<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0A0A0F">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="description" content="TITAN OLYMPUS - Premium Slot Simulation">
    <title>TITAN OLYMPUS - Premium Slots</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;500;600;700&family=Orbitron:wght@500;700;900&family=Russo+One&display=swap" rel="stylesheet">
    
    <link rel="manifest" href="data:application/json,%7B%22name%22%3A%22TITAN%20OLYMPUS%22%2C%22short_name%22%3A%22TITAN%22%2C%22description%22%3A%22Premium%20Slot%20Simulation%22%2C%22start_url%22%3A%22%2F%22%2C%22display%22%3A%22standalone%22%2C%22background_color%22%3A%22%230A0A0F%22%2C%22theme_color%22%3A%22%23FFD700%22%2C%22icons%22%3A%5B%7B%22src%22%3A%22data%3Aimage%2Fsvg%2Bxml%2C%253Csvg%2520xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%2520viewBox%3D%270%25200%2520192%2520192%27%253E%253Crect%2520fill%3D%27%25230A0A0F%27%2520width%3D%27192%27%2520height%3D%27192%27%2520rx%3D%2732%27%2F%253E%253Ctext%2520x%3D%2796%27%2520y%3D%27120%27%2520font-size%3D%2780%27%2520text-anchor%3D%27middle%27%2520fill%3D%27%2523FFD700%27%253E%25E2%259A%25A1%253C%2Ftext%253E%253C%2Fsvg%253E%22%2C%22sizes%22%3A%22192x192%22%2C%22type%22%3A%22image%2Fsvg%2Bxml%22%7D%5D%7D">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        :root {
            --gold: #FFD700;
            --gold-dark: #B8860B;
            --gold-light: #FFE55C;
            --red: #FF3333;
            --red-dark: #CC0000;
            --bg-dark: #0A0A0F;
            --bg-card: #12121A;
            --bg-card-light: #1A1A25;
            --green: #00FF88;
            --blue: #00D4FF;
            --purple: #A855F7;
            --pink: #EC4899;
            --white: #FFFFFF;
            --gray: #888899;
            --gray-dark: #444455;
            
            --font-body: 'Kanit', sans-serif;
            --font-display: 'Orbitron', sans-serif;
            --font-title: 'Russo One', sans-serif;
            
            --shadow-gold: 0 0 20px rgba(255, 215, 0, 0.3);
            --shadow-red: 0 0 20px rgba(255, 51, 51, 0.3);
            --shadow-card: 0 4px 20px rgba(0, 0, 0, 0.5);
        }
        
        html, body {
            font-family: var(--font-body);
            background: var(--bg-dark);
            color: var(--white);
            min-height: 100vh;
            overflow-x: hidden;
            line-height: 1.4;
        }
        
        body {
            padding-bottom: 80px;
        }
        
        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        ::-webkit-scrollbar-track {
            background: var(--bg-dark);
        }
        ::-webkit-scrollbar-thumb {
            background: var(--gold-dark);
            border-radius: 3px;
        }
        
        /* Loading Screen */
        .loading-screen {
            position: fixed;
            inset: 0;
            background: var(--bg-dark);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            transition: opacity 0.5s, visibility 0.5s;
        }
        .loading-screen.hidden {
            opacity: 0;
            visibility: hidden;
        }
        .loading-logo {
            font-family: var(--font-title);
            font-size: 2rem;
            background: linear-gradient(135deg, var(--gold), var(--gold-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1.5rem;
            animation: pulse 1.5s ease-in-out infinite;
        }
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid var(--bg-card);
            border-top-color: var(--gold);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.05); }
        }
        
        /* Header */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 56px;
            background: linear-gradient(180deg, #15151F 0%, #0D0D14 100%);
            border-bottom: 1px solid rgba(255, 215, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 12px;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.5);
        }
        .header-left {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .menu-btn {
            width: 44px;
            height: 44px;
            background: transparent;
            border: none;
            color: var(--white);
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            transition: background 0.2s;
        }
        .menu-btn:active {
            background: rgba(255, 255, 255, 0.1);
        }
        .logo {
            font-family: var(--font-title);
            font-size: 1.1rem;
            background: linear-gradient(135deg, var(--gold), var(--gold-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            cursor: pointer;
            user-select: none;
        }
        .header-right {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .balance-display {
            display: flex;
            align-items: center;
            gap: 6px;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(255, 215, 0, 0.05));
            border: 1px solid rgba(255, 215, 0, 0.3);
            padding: 6px 12px;
            border-radius: 20px;
            font-family: var(--font-display);
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--gold);
        }
        .balance-icon {
            font-size: 1rem;
        }
        .header-btn {
            min-width: 44px;
            height: 36px;
            padding: 0 14px;
            background: linear-gradient(135deg, var(--gold), var(--gold-dark));
            border: none;
            border-radius: 18px;
            font-family: var(--font-body);
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--bg-dark);
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .header-btn:active {
            transform: scale(0.95);
        }
        
        /* Navigation */
        .nav-bar {
            position: fixed;
            top: 56px;
            left: 0;
            right: 0;
            height: 48px;
            background: var(--bg-card);
            display: flex;
            overflow-x: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
            z-index: 999;
            border-bottom: 1px solid var(--gray-dark);
        }
        .nav-bar::-webkit-scrollbar {
            display: none;
        }
        .nav-item {
            flex-shrink: 0;
            height: 100%;
            padding: 0 18px;
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.85rem;
            font-weight: 500;
            color: var(--gray);
            cursor: pointer;
            position: relative;
            transition: color 0.2s;
            border: none;
            background: transparent;
        }
        .nav-item.active {
            color: var(--gold);
        }
        .nav-item.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            height: 3px;
            background: var(--gold);
            border-radius: 3px 3px 0 0;
        }
        .nav-badge {
            font-size: 0.6rem;
            padding: 2px 6px;
            background: var(--red);
            color: white;
            border-radius: 8px;
            font-weight: 700;
            animation: pulse 1.5s ease-in-out infinite;
        }
        
        /* Promo Banner */
        .promo-banner {
            margin-top: 104px;
            background: linear-gradient(90deg, var(--red-dark), var(--red), var(--red-dark));
            padding: 10px 0;
            overflow: hidden;
            position: relative;
        }
        .promo-text {
            display: inline-block;
            white-space: nowrap;
            animation: marquee 20s linear infinite;
            font-size: 0.9rem;
            font-weight: 600;
        }
        @keyframes marquee {
            0% { transform: translateX(100vw); }
            100% { transform: translateX(-100%); }
        }
        
        /* Live Info Bar */
        .live-info {
            display: flex;
            justify-content: center;
            gap: 20px;
            padding: 12px 16px;
            background: var(--bg-card);
            border-bottom: 1px solid var(--gray-dark);
        }
        .live-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.85rem;
        }
        .live-dot {
            width: 8px;
            height: 8px;
            background: var(--green);
            border-radius: 50%;
            animation: blink 1.5s ease-in-out infinite;
        }
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
        .live-value {
            color: var(--gold);
            font-weight: 600;
            font-family: var(--font-display);
        }
        
        /* Jackpot Display */
        .jackpot-section {
            padding: 16px;
            text-align: center;
        }
        .jackpot-card {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(184, 134, 11, 0.1));
            border: 2px solid var(--gold);
            border-radius: 16px;
            padding: 16px;
            box-shadow: var(--shadow-gold);
        }
        .jackpot-title {
            font-size: 0.9rem;
            color: var(--gold);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .jackpot-amount {
            font-family: var(--font-display);
            font-size: 1.8rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--gold), var(--gold-light), var(--gold));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: shimmer 2s ease-in-out infinite;
        }
        @keyframes shimmer {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.3); }
        }
        
        /* Main Content */
        .main-content {
            padding: 16px;
        }
        
        /* Section Title */
        .section-title {
            font-family: var(--font-title);
            font-size: 1.1rem;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .section-title::after {
            content: '';
            flex: 1;
            height: 1px;
            background: linear-gradient(90deg, var(--gold-dark), transparent);
        }
        
        /* Games Grid */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 24px;
        }
        @media (min-width: 480px) {
            .games-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        @media (min-width: 768px) {
            .games-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        
        .game-card {
            background: var(--bg-card);
            border-radius: 12px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            border: 1px solid var(--gray-dark);
        }
        .game-card:active {
            transform: scale(0.98);
        }
        .game-card:hover {
            box-shadow: var(--shadow-gold);
            border-color: var(--gold-dark);
        }
        .game-thumb {
            width: 100%;
            aspect-ratio: 1;
            background: linear-gradient(135deg, var(--bg-card-light), var(--bg-card));
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        .game-thumb svg {
            width: 70%;
            height: 70%;
        }
        .game-provider {
            position: absolute;
            top: 6px;
            left: 6px;
            font-size: 0.6rem;
            padding: 3px 6px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 4px;
            font-weight: 600;
        }
        .game-rtp {
            position: absolute;
            top: 6px;
            right: 6px;
            font-size: 0.6rem;
            padding: 3px 6px;
            background: rgba(0, 255, 136, 0.2);
            color: var(--green);
            border-radius: 4px;
            font-weight: 700;
        }
        .game-hot {
            position: absolute;
            bottom: 6px;
            right: 6px;
            font-size: 0.6rem;
            padding: 3px 8px;
            background: var(--red);
            border-radius: 4px;
            font-weight: 700;
            animation: pulse 1.5s ease-in-out infinite;
        }
        .game-info {
            padding: 10px;
        }
        .game-name {
            font-size: 0.8rem;
            font-weight: 600;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            margin-bottom: 4px;
        }
        .game-tags {
            display: flex;
            gap: 4px;
            flex-wrap: wrap;
        }
        .game-tag {
            font-size: 0.6rem;
            padding: 2px 6px;
            background: var(--bg-dark);
            border-radius: 4px;
            color: var(--gray);
        }
        
        /* Recent Winners */
        .winners-section {
            margin-bottom: 24px;
        }
        .winners-scroll {
            display: flex;
            gap: 12px;
            overflow-x: auto;
            padding-bottom: 8px;
            scrollbar-width: none;
        }
        .winners-scroll::-webkit-scrollbar {
            display: none;
        }
        .winner-card {
            flex-shrink: 0;
            width: 160px;
            background: var(--bg-card);
            border-radius: 10px;
            padding: 12px;
            border: 1px solid var(--gray-dark);
        }
        .winner-name {
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 4px;
            color: var(--gold);
        }
        .winner-amount {
            font-family: var(--font-display);
            font-size: 0.9rem;
            font-weight: 700;
            color: var(--green);
            margin-bottom: 4px;
        }
        .winner-game {
            font-size: 0.7rem;
            color: var(--gray);
        }
        
        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 24px;
        }
        .stat-card {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            border: 1px solid var(--gray-dark);
        }
        .stat-value {
            font-family: var(--font-display);
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--gold);
            margin-bottom: 4px;
        }
        .stat-label {
            font-size: 0.75rem;
            color: var(--gray);
        }
        
        /* User Tier */
        .tier-card {
            background: linear-gradient(135deg, var(--bg-card), var(--bg-card-light));
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 24px;
            border: 1px solid var(--gray-dark);
        }
        .tier-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 12px;
        }
        .tier-badge {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .tier-icon {
            font-size: 1.5rem;
        }
        .tier-name {
            font-family: var(--font-title);
            font-size: 1rem;
        }
        .tier-name.bronze { color: #CD7F32; }
        .tier-name.silver { color: #C0C0C0; }
        .tier-name.gold { color: var(--gold); }
        .tier-name.platinum { color: #E5E4E2; }
        .tier-name.diamond { color: var(--blue); }
        .tier-level {
            font-size: 0.8rem;
            color: var(--gray);
        }
        .tier-progress {
            height: 8px;
            background: var(--bg-dark);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 8px;
        }
        .tier-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--gold-dark), var(--gold));
            border-radius: 4px;
            transition: width 0.5s ease;
        }
        .tier-xp {
            font-size: 0.75rem;
            color: var(--gray);
            text-align: right;
        }
        
        /* Achievements */
        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 24px;
        }
        .achievement {
            aspect-ratio: 1;
            background: var(--bg-card);
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 8px;
            border: 2px solid var(--gray-dark);
            transition: all 0.3s;
        }
        .achievement.unlocked {
            border-color: var(--gold);
            box-shadow: var(--shadow-gold);
        }
        .achievement.locked {
            opacity: 0.5;
            filter: grayscale(1);
        }
        .achievement-icon {
            font-size: 1.5rem;
            margin-bottom: 4px;
        }
        .achievement-name {
            font-size: 0.55rem;
            text-align: center;
            color: var(--gray);
        }
        
        /* Side Menu */
        .side-menu {
            position: fixed;
            top: 0;
            left: 0;
            bottom: 0;
            width: 280px;
            max-width: 85vw;
            background: var(--bg-card);
            z-index: 2000;
            transform: translateX(-100%);
            transition: transform 0.3s ease;
            overflow-y: auto;
        }
        .side-menu.open {
            transform: translateX(0);
        }
        .menu-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1999;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }
        .menu-overlay.show {
            opacity: 1;
            visibility: visible;
        }
        .menu-header {
            padding: 20px;
            background: linear-gradient(135deg, var(--bg-card-light), var(--bg-card));
            border-bottom: 1px solid var(--gray-dark);
        }
        .menu-user {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .menu-avatar {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--gold), var(--gold-dark));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--bg-dark);
        }
        .menu-user-info {
            flex: 1;
        }
        .menu-username {
            font-weight: 600;
            margin-bottom: 2px;
        }
        .menu-tier {
            font-size: 0.75rem;
            color: var(--gold);
        }
        .menu-list {
            padding: 12px 0;
        }
        .menu-item {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 14px 20px;
            cursor: pointer;
            transition: background 0.2s;
            border: none;
            background: transparent;
            width: 100%;
            text-align: left;
            color: var(--white);
            font-family: var(--font-body);
            font-size: 0.95rem;
        }
        .menu-item:hover, .menu-item:active {
            background: var(--bg-dark);
        }
        .menu-item-icon {
            font-size: 1.2rem;
            width: 24px;
            text-align: center;
        }
        .menu-divider {
            height: 1px;
            background: var(--gray-dark);
            margin: 8px 20px;
        }
        .menu-item.logout {
            color: var(--red);
        }
        
        /* Modal Base */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.85);
            z-index: 3000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }
        .modal-overlay.show {
            opacity: 1;
            visibility: visible;
        }
        .modal {
            background: var(--bg-card);
            border-radius: 20px;
            width: 100%;
            max-width: 400px;
            max-height: 90vh;
            overflow-y: auto;
            transform: translateY(30px) scale(0.95);
            transition: transform 0.3s;
            border: 1px solid var(--gray-dark);
        }
        .modal-overlay.show .modal {
            transform: translateY(0) scale(1);
        }
        .modal-header {
            padding: 20px;
            border-bottom: 1px solid var(--gray-dark);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .modal-title {
            font-family: var(--font-title);
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .modal-close {
            width: 36px;
            height: 36px;
            background: var(--bg-dark);
            border: none;
            border-radius: 50%;
            color: var(--white);
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .modal-body {
            padding: 20px;
        }
        
        /* Forms */
        .form-group {
            margin-bottom: 16px;
        }
        .form-label {
            display: block;
            font-size: 0.85rem;
            color: var(--gray);
            margin-bottom: 8px;
        }
        .form-input {
            width: 100%;
            height: 48px;
            padding: 0 16px;
            background: var(--bg-dark);
            border: 1px solid var(--gray-dark);
            border-radius: 10px;
            color: var(--white);
            font-family: var(--font-body);
            font-size: 1rem;
            transition: border-color 0.2s;
        }
        .form-input:focus {
            outline: none;
            border-color: var(--gold);
        }
        .form-input.error {
            border-color: var(--red);
        }
        .form-error {
            font-size: 0.75rem;
            color: var(--red);
            margin-top: 6px;
        }
        .form-submit {
            width: 100%;
            height: 52px;
            background: linear-gradient(135deg, var(--gold), var(--gold-dark));
            border: none;
            border-radius: 12px;
            font-family: var(--font-body);
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--bg-dark);
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 8px;
        }
        .form-submit:active {
            transform: scale(0.98);
        }
        .form-submit:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        .form-switch {
            text-align: center;
            margin-top: 16px;
            font-size: 0.9rem;
            color: var(--gray);
        }
        .form-switch a {
            color: var(--gold);
            text-decoration: none;
            font-weight: 600;
        }
        
        /* Deposit Modal */
        .payment-methods {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 16px;
        }
        .payment-method {
            padding: 14px 12px;
            background: var(--bg-dark);
            border: 2px solid var(--gray-dark);
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }
        .payment-method.selected {
            border-color: var(--gold);
            background: rgba(255, 215, 0, 0.1);
        }
        .payment-method-icon {
            font-size: 1.5rem;
            margin-bottom: 4px;
        }
        .payment-method-name {
            font-size: 0.8rem;
        }
        .amount-presets {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
            margin-bottom: 16px;
        }
        .amount-preset {
            padding: 10px 6px;
            background: var(--bg-dark);
            border: 1px solid var(--gray-dark);
            border-radius: 8px;
            font-size: 0.75rem;
            color: var(--white);
            cursor: pointer;
            transition: all 0.2s;
        }
        .amount-preset:hover, .amount-preset.selected {
            border-color: var(--gold);
            color: var(--gold);
        }
        
        /* Bonus Popup */
        .bonus-popup .modal {
            text-align: center;
            overflow: visible;
        }
        .bonus-popup .modal-body {
            padding: 30px 20px;
        }
        .bonus-icon {
            font-size: 4rem;
            margin-bottom: 16px;
            animation: bounce 1s ease-in-out infinite;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        .bonus-title {
            font-family: var(--font-title);
            font-size: 1.5rem;
            margin-bottom: 8px;
            color: var(--gold);
        }
        .bonus-amount {
            font-family: var(--font-display);
            font-size: 2.5rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--gold), var(--gold-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 8px;
        }
        .bonus-desc {
            color: var(--gray);
            margin-bottom: 20px;
        }
        .bonus-btn {
            width: 100%;
            height: 52px;
            background: linear-gradient(135deg, var(--gold), var(--gold-dark));
            border: none;
            border-radius: 12px;
            font-family: var(--font-body);
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--bg-dark);
            cursor: pointer;
        }
        
        /* Game Modal */
        .game-modal .modal {
            max-width: 500px;
            background: var(--bg-dark);
        }
        .game-modal-header {
            padding: 12px 16px;
            background: linear-gradient(180deg, #1A1A25 0%, var(--bg-dark) 100%);
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid var(--gray-dark);
        }
        .game-modal-title {
            font-family: var(--font-title);
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .game-modal-provider {
            font-size: 0.7rem;
            padding: 4px 8px;
            background: var(--bg-card);
            border-radius: 4px;
            color: var(--gray);
        }
        
        /* Slot Machine */
        .slot-container {
            padding: 16px;
        }
        .slot-info-bar {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            padding: 10px 14px;
            background: var(--bg-card);
            border-radius: 10px;
        }
        .slot-info-item {
            text-align: center;
        }
        .slot-info-label {
            font-size: 0.65rem;
            color: var(--gray);
            margin-bottom: 2px;
        }
        .slot-info-value {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--green);
        }
        
        .slot-machine {
            background: linear-gradient(135deg, #1A1A25, #12121A);
            border: 3px solid var(--gold-dark);
            border-radius: 16px;
            padding: 12px;
            margin-bottom: 16px;
            box-shadow: inset 0 4px 20px rgba(0, 0, 0, 0.5), var(--shadow-gold);
        }
        .slot-reels-container {
            position: relative;
            overflow: hidden;
            border-radius: 10px;
            background: #0A0A0F;
            padding: 8px;
        }
        .slot-reels {
            display: flex;
            gap: 4px;
            justify-content: center;
        }
        .slot-reel {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }
        .slot-reel-col {
            overflow: hidden;
            border-radius: 8px;
            background: linear-gradient(180deg, rgba(0,0,0,0.8) 0%, transparent 15%, transparent 85%, rgba(0,0,0,0.8) 100%);
            position: relative;
        }
        .slot-reel-inner {
            display: flex;
            flex-direction: column;
            transition: transform 0.1s ease-out;
        }
        .slot-symbol {
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #1E1E2A, #15151F);
            border-radius: 6px;
            flex-shrink: 0;
        }
        .slot-symbol svg {
            width: 80%;
            height: 80%;
        }
        .slot-symbol.blur-top, .slot-symbol.blur-bottom {
            opacity: 0.4;
            filter: blur(1px);
        }
        .slot-symbol.payline {
            box-shadow: 0 0 10px var(--gold), inset 0 0 10px rgba(255, 215, 0, 0.2);
            border: 2px solid var(--gold);
        }
        .slot-symbol.win {
            animation: winPulse 0.5s ease-in-out infinite;
        }
        @keyframes winPulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 10px var(--gold); }
            50% { transform: scale(1.05); box-shadow: 0 0 25px var(--gold); }
        }
        
        .slot-payline-indicator {
            position: absolute;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--gold);
            box-shadow: 0 0 10px var(--gold);
            z-index: 10;
            pointer-events: none;
        }
        
        /* Slot Controls */
        .slot-balance-bar {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-bottom: 12px;
        }
        .slot-balance-item {
            text-align: center;
            padding: 12px 8px;
            background: var(--bg-card);
            border-radius: 10px;
            border: 1px solid var(--gray-dark);
        }
        .slot-balance-label {
            font-size: 0.7rem;
            color: var(--gray);
            margin-bottom: 4px;
        }
        .slot-balance-value {
            font-family: var(--font-display);
            font-size: 1rem;
            font-weight: 700;
        }
        .slot-balance-value.balance { color: var(--gold); }
        .slot-balance-value.bet { color: var(--white); }
        .slot-balance-value.win { color: var(--green); }
        
        .bet-selector {
            display: flex;
            gap: 6px;
            margin-bottom: 12px;
            flex-wrap: wrap;
            justify-content: center;
        }
        .bet-btn {
            min-width: 50px;
            height: 38px;
            padding: 0 12px;
            background: var(--bg-card);
            border: 1px solid var(--gray-dark);
            border-radius: 8px;
            color: var(--white);
            font-family: var(--font-body);
            font-size: 0.8rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        .bet-btn.selected {
            background: linear-gradient(135deg, var(--gold), var(--gold-dark));
            color: var(--bg-dark);
            border-color: var(--gold);
        }
        
        .slot-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        .slot-control-btn {
            height: 52px;
            padding: 0 16px;
            background: var(--bg-card);
            border: 1px solid var(--gray-dark);
            border-radius: 12px;
            color: var(--white);
            font-family: var(--font-body);
            font-size: 0.85rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .slot-control-btn.active {
            border-color: var(--gold);
            color: var(--gold);
        }
        .spin-btn {
            flex: 1;
            height: 56px;
            background: linear-gradient(135deg, var(--red), var(--red-dark));
            border: none;
            border-radius: 12px;
            color: var(--white);
            font-family: var(--font-title);
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            box-shadow: 0 4px 15px rgba(255, 51, 51, 0.3);
        }
        .spin-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        .spin-btn:not(:disabled):active {
            transform: scale(0.98);
        }
        .spin-btn.spinning {
            animation: spinBtnPulse 0.3s ease-in-out infinite;
        }
        @keyframes spinBtnPulse {
            0%, 100% { box-shadow: 0 4px 15px rgba(255, 51, 51, 0.3); }
            50% { box-shadow: 0 4px 25px rgba(255, 51, 51, 0.5); }
        }
        
        /* Win Overlay */
        .win-overlay {
            position: fixed;
            inset: 0;
            z-index: 4000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
        }
        .win-overlay.show {
            opacity: 1;
            pointer-events: auto;
        }
        .win-backdrop {
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
        }
        .win-content {
            position: relative;
            text-align: center;
            z-index: 1;
            animation: winZoom 0.5s ease-out;
        }
        @keyframes winZoom {
            0% { transform: scale(0.5); opacity: 0; }
            70% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }
        .win-title {
            font-family: var(--font-title);
            font-size: 2.5rem;
            margin-bottom: 16px;
            text-shadow: 0 0 30px currentColor;
        }
        .win-title.normal { color: var(--green); }
        .win-title.big { color: var(--gold); font-size: 3rem; }
        .win-title.mega { color: var(--pink); font-size: 3.5rem; }
        .win-title.jackpot { 
            background: linear-gradient(135deg, var(--gold), var(--gold-light), var(--gold));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 4rem;
            animation: jackpotPulse 0.5s ease-in-out infinite;
        }
        @keyframes jackpotPulse {
            0%, 100% { filter: brightness(1) drop-shadow(0 0 20px var(--gold)); }
            50% { filter: brightness(1.3) drop-shadow(0 0 40px var(--gold)); }
        }
        .win-amount {
            font-family: var(--font-display);
            font-size: 3rem;
            font-weight: 900;
            color: var(--white);
            margin-bottom: 24px;
        }
        .win-continue {
            font-size: 0.9rem;
            color: var(--gray);
            animation: blink 1s ease-in-out infinite;
        }
        
        /* Confetti */
        .confetti-container {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 4001;
            overflow: hidden;
        }
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            animation: confettiFall 3s ease-out forwards;
        }
        @keyframes confettiFall {
            0% { transform: translateY(-100%) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }
        
        /* Coins */
        .coin {
            position: absolute;
            font-size: 2rem;
            animation: coinFall 2s ease-in forwards;
        }
        @keyframes coinFall {
            0% { transform: translateY(-50px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }
        
        /* Cheat Panel */
        .cheat-panel {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #1A0A2E, #0D0515);
            border-top: 2px solid var(--purple);
            border-radius: 20px 20px 0 0;
            z-index: 5000;
            transform: translateY(100%);
            transition: transform 0.3s ease;
            max-height: 70vh;
            overflow-y: auto;
        }
        .cheat-panel.show {
            transform: translateY(0);
        }
        .cheat-header {
            padding: 16px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid rgba(168, 85, 247, 0.3);
            position: sticky;
            top: 0;
            background: inherit;
        }
        .cheat-title {
            font-family: var(--font-title);
            color: var(--purple);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .cheat-body {
            padding: 20px;
        }
        .cheat-section {
            margin-bottom: 20px;
        }
        .cheat-label {
            font-size: 0.85rem;
            color: var(--gray);
            margin-bottom: 10px;
        }
        .cheat-slider {
            width: 100%;
            height: 8px;
            background: var(--bg-dark);
            border-radius: 4px;
            appearance: none;
            outline: none;
        }
        .cheat-slider::-webkit-slider-thumb {
            appearance: none;
            width: 24px;
            height: 24px;
            background: var(--purple);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 10px var(--purple);
        }
        .cheat-value {
            text-align: right;
            font-family: var(--font-display);
            font-size: 1.2rem;
            color: var(--purple);
            margin-top: 6px;
        }
        .cheat-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }
        .cheat-btn {
            padding: 12px 8px;
            background: rgba(168, 85, 247, 0.2);
            border: 1px solid var(--purple);
            border-radius: 10px;
            color: var(--white);
            font-family: var(--font-body);
            font-size: 0.8rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        .cheat-btn:active {
            background: var(--purple);
            transform: scale(0.95);
        }
        .cheat-btn.active {
            background: var(--purple);
        }
        
        /* Sections */
        .section-casino, .section-sports, .section-poker, .section-promo {
            padding: 20px 16px;
        }
        .coming-soon {
            text-align: center;
            padding: 60px 20px;
        }
        .coming-soon-icon {
            font-size: 4rem;
            margin-bottom: 16px;
            opacity: 0.5;
        }
        .coming-soon-text {
            font-size: 1.2rem;
            color: var(--gray);
        }
        
        /* Promo Cards */
        .promo-cards {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        .promo-card {
            background: linear-gradient(135deg, var(--bg-card), var(--bg-card-light));
            border-radius: 16px;
            padding: 20px;
            border: 1px solid var(--gray-dark);
        }
        .promo-card-title {
            font-family: var(--font-title);
            font-size: 1.1rem;
            color: var(--gold);
            margin-bottom: 8px;
        }
        .promo-card-desc {
            font-size: 0.9rem;
            color: var(--gray);
            margin-bottom: 12px;
        }
        .promo-card-btn {
            padding: 10px 20px;
            background: linear-gradient(135deg, var(--gold), var(--gold-dark));
            border: none;
            border-radius: 8px;
            color: var(--bg-dark);
            font-weight: 600;
            cursor: pointer;
        }
        
        /* History */
        .history-list {
            max-height: 300px;
            overflow-y: auto;
        }
        .history-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid var(--gray-dark);
        }
        .history-item:last-child {
            border-bottom: none;
        }
        .history-game {
            font-size: 0.85rem;
        }
        .history-result {
            font-family: var(--font-display);
            font-size: 0.9rem;
            font-weight: 700;
        }
        .history-result.win { color: var(--green); }
        .history-result.lose { color: var(--red); }
        
        /* PWA Install */
        .install-prompt {
            position: fixed;
            bottom: 20px;
            left: 20px;
            right: 20px;
            background: var(--bg-card);
            border: 1px solid var(--gold);
            border-radius: 16px;
            padding: 16px;
            z-index: 6000;
            display: none;
            box-shadow: var(--shadow-gold);
        }
        .install-prompt.show {
            display: block;
            animation: slideUp 0.3s ease;
        }
        @keyframes slideUp {
            from { transform: translateY(100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .install-content {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .install-icon {
            font-size: 2.5rem;
        }
        .install-text {
            flex: 1;
        }
        .install-title {
            font-weight: 600;
            margin-bottom: 4px;
        }
        .install-desc {
            font-size: 0.8rem;
            color: var(--gray);
        }
        .install-btn {
            padding: 10px 20px;
            background: linear-gradient(135deg, var(--gold), var(--gold-dark));
            border: none;
            border-radius: 8px;
            color: var(--bg-dark);
            font-weight: 600;
            cursor: pointer;
        }
        .install-close {
            position: absolute;
            top: 8px;
            right: 8px;
            background: none;
            border: none;
            color: var(--gray);
            font-size: 1.2rem;
            cursor: pointer;
        }
        
        /* Toast */
        .toast {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--bg-card);
            border: 1px solid var(--gray-dark);
            padding: 12px 24px;
            border-radius: 10px;
            font-size: 0.9rem;
            z-index: 7000;
            opacity: 0;
            transition: all 0.3s;
            white-space: nowrap;
        }
        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }
        .toast.success {
            border-color: var(--green);
            color: var(--green);
        }
        .toast.error {
            border-color: var(--red);
            color: var(--red);
        }
        
        /* Tabs */
        .tabs {
            display: flex;
            border-bottom: 1px solid var(--gray-dark);
            margin-bottom: 16px;
        }
        .tab {
            flex: 1;
            padding: 12px;
            background: none;
            border: none;
            color: var(--gray);
            font-family: var(--font-body);
            font-size: 0.9rem;
            cursor: pointer;
            position: relative;
        }
        .tab.active {
            color: var(--gold);
        }
        .tab.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--gold);
        }
        
        /* Hidden */
        .hidden {
            display: none !important;
        }
        
        /* Animation utilities */
        .fade-in {
            animation: fadeIn 0.3s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-logo">‚ö° TITAN OLYMPUS</div>
        <div class="loading-spinner"></div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="header-left">
            <button class="menu-btn" id="menuBtn">‚ò∞</button>
            <div class="logo" id="logoTap">‚ö° TITAN OLYMPUS</div>
        </div>
        <div class="header-right" id="headerRight">
            <div class="balance-display" id="balanceDisplay" style="display: none;">
                <span class="balance-icon">ü™ô</span>
                <span id="headerBalance">0</span>
            </div>
            <button class="header-btn" id="depositBtn" style="display: none;">DEPOSIT</button>
            <button class="header-btn" id="loginBtn">LOGIN</button>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="nav-bar">
        <button class="nav-item active" data-section="slots">üé∞ SLOTS</button>
        <button class="nav-item" data-section="casino">üÉè CASINO</button>
        <button class="nav-item" data-section="sports">‚öΩ SPORTS <span class="nav-badge">HOT</span></button>
        <button class="nav-item" data-section="poker">‚ô†Ô∏è POKER</button>
        <button class="nav-item" data-section="promo">üéÅ PROMO <span class="nav-badge">NEW</span></button>
    </nav>

    <!-- Promo Banner -->
    <div class="promo-banner">
        <div class="promo-text">
            üî• BONUS MEMBER BARU 100% üî• RTP TERTINGGI SE-ASIA üíé WITHDRAW TANPA BATAS ‚ö° JACKPOT SETIAP HARI üèÜ PROMO SPESIAL RAMADAN üåô
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
        <!-- SLOTS Section -->
        <section class="section-slots" id="sectionSlots">
            <!-- Live Info Bar -->
            <div class="live-info">
                <div class="live-item">
                    <span class="live-dot"></span>
                    <span>RTP:</span>
                    <span class="live-value" id="liveRtp">96.8%</span>
                </div>
                <div class="live-item">
                    <span>üë•</span>
                    <span>Online:</span>
                    <span class="live-value" id="liveOnline">12,847</span>
                </div>
            </div>

            <!-- Jackpot Display -->
            <div class="jackpot-section">
                <div class="jackpot-card">
                    <div class="jackpot-title">üèÜ GRAND JACKPOT üèÜ</div>
                    <div class="jackpot-amount" id="jackpotAmount">Rp 127,843,250</div>
                </div>
            </div>

            <!-- Games Grid -->
            <h2 class="section-title">üé∞ Popular Games</h2>
            <div class="games-grid" id="gamesGrid"></div>

            <!-- Recent Winners -->
            <h2 class="section-title">üèÜ Recent Winners</h2>
            <div class="winners-section">
                <div class="winners-scroll" id="winnersScroll"></div>
            </div>

            <!-- User Stats (shown when logged in) -->
            <div id="userStatsSection" style="display: none;">
                <h2 class="section-title">üìä Your Statistics</h2>
                <div class="stats-grid" id="statsGrid">
                    <div class="stat-card">
                        <div class="stat-value" id="statSpins">0</div>
                        <div class="stat-label">Total Spins</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="statWinRate">0%</div>
                        <div class="stat-label">Win Rate</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="statTotalWon">0</div>
                        <div class="stat-label">Total Won</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="statBiggest">0</div>
                        <div class="stat-label">Biggest Win</div>
                    </div>
                </div>

                <!-- Tier Card -->
                <div class="tier-card">
                    <div class="tier-header">
                        <div class="tier-badge">
                            <span class="tier-icon" id="tierIcon">ü•â</span>
                            <span class="tier-name bronze" id="tierName">BRONZE</span>
                        </div>
                        <div class="tier-level" id="tierLevel">Level 1</div>
                    </div>
                    <div class="tier-progress">
                        <div class="tier-progress-bar" id="tierProgress" style="width: 0%"></div>
                    </div>
                    <div class="tier-xp" id="tierXp">0 / 1000 XP</div>
                </div>

                <!-- Achievements -->
                <h2 class="section-title">üèÖ Achievements</h2>
                <div class="achievements-grid" id="achievementsGrid"></div>
            </div>
        </section>

        <!-- CASINO Section -->
        <section class="section-casino hidden" id="sectionCasino">
            <div class="coming-soon">
                <div class="coming-soon-icon">üÉè</div>
                <div class="coming-soon-text">Live Casino Coming Soon!</div>
            </div>
        </section>

        <!-- SPORTS Section -->
        <section class="section-sports hidden" id="sectionSports">
            <div class="coming-soon">
                <div class="coming-soon-icon">‚öΩ</div>
                <div class="coming-soon-text">Sportsbook Coming Soon!</div>
            </div>
        </section>

        <!-- POKER Section -->
        <section class="section-poker hidden" id="sectionPoker">
            <div class="coming-soon">
                <div class="coming-soon-icon">‚ô†Ô∏è</div>
                <div class="coming-soon-text">Poker Room Coming Soon!</div>
            </div>
        </section>

        <!-- PROMO Section -->
        <section class="section-promo hidden" id="sectionPromo">
            <h2 class="section-title">üéÅ Promotions</h2>
            <div class="promo-cards">
                <div class="promo-card">
                    <div class="promo-card-title">üî• Welcome Bonus 100%</div>
                    <div class="promo-card-desc">Dapatkan bonus 100% untuk deposit pertama Anda hingga Rp 1.000.000!</div>
                    <button class="promo-card-btn">Claim Now</button>
                </div>
                <div class="promo-card">
                    <div class="promo-card-title">üíé Cashback Harian 10%</div>
                    <div class="promo-card-desc">Cashback 10% setiap hari untuk semua kekalahan Anda.</div>
                    <button class="promo-card-btn">Claim Now</button>
                </div>
                <div class="promo-card">
                    <div class="promo-card-title">üé∞ Free Spin Senin</div>
                    <div class="promo-card-desc">50 Free Spins setiap hari Senin untuk member setia!</div>
                    <button class="promo-card-btn">Claim Now</button>
                </div>
                <div class="promo-card">
                    <div class="promo-card-title">üèÜ Tournament Mingguan</div>
                    <div class="promo-card-desc">Hadiah total Rp 100.000.000 setiap minggu!</div>
                    <button class="promo-card-btn">Join Now</button>
                </div>
            </div>
        </section>
    </main>

    <!-- Side Menu -->
    <div class="menu-overlay" id="menuOverlay"></div>
    <div class="side-menu" id="sideMenu">
        <div class="menu-header">
            <div class="menu-user" id="menuUser">
                <div class="menu-avatar" id="menuAvatar">?</div>
                <div class="menu-user-info">
                    <div class="menu-username" id="menuUsername">Guest</div>
                    <div class="menu-tier" id="menuTier">Login to play</div>
                </div>
            </div>
        </div>
        <div class="menu-list">
            <button class="menu-item" id="menuProfile" style="display: none;">
                <span class="menu-item-icon">üë§</span>
                <span>Profile</span>
            </button>
            <button class="menu-item" id="menuDeposit" style="display: none;">
                <span class="menu-item-icon">üí∞</span>
                <span>Deposit</span>
            </button>
            <button class="menu-item" id="menuWithdraw" style="display: none;">
                <span class="menu-item-icon">üí∏</span>
                <span>Withdraw</span>
            </button>
            <button class="menu-item" id="menuHistory" style="display: none;">
                <span class="menu-item-icon">üìú</span>
                <span>History</span>
            </button>
            <div class="menu-divider"></div>
            <button class="menu-item" id="menuSettings">
                <span class="menu-item-icon">‚öôÔ∏è</span>
                <span>Settings</span>
            </button>
            <button class="menu-item" id="menuSupport">
                <span class="menu-item-icon">üí¨</span>
                <span>Support</span>
            </button>
            <div class="menu-divider" id="menuLogoutDivider" style="display: none;"></div>
            <button class="menu-item logout" id="menuLogout" style="display: none;">
                <span class="menu-item-icon">üö™</span>
                <span>Logout</span>
            </button>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="modal-overlay" id="loginModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">üîê Login</h3>
                <button class="modal-close" onclick="closeModal('loginModal')">√ó</button>
            </div>
            <div class="modal-body">
                <form id="loginForm">
                    <div class="form-group">
                        <label class="form-label">Username or Email</label>
                        <input type="text" class="form-input" id="loginUsername" required>
                        <div class="form-error" id="loginUsernameError"></div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-input" id="loginPassword" required>
                        <div class="form-error" id="loginPasswordError"></div>
                    </div>
                    <button type="submit" class="form-submit">LOGIN</button>
                </form>
                <div class="form-switch">
                    Don't have an account? <a href="#" id="switchToRegister">Register</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div class="modal-overlay" id="registerModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">üìù Register</h3>
                <button class="modal-close" onclick="closeModal('registerModal')">√ó</button>
            </div>
            <div class="modal-body">
                <form id="registerForm">
                    <div class="form-group">
                        <label class="form-label">Username (4-16 characters)</label>
                        <input type="text" class="form-input" id="regUsername" required minlength="4" maxlength="16">
                        <div class="form-error" id="regUsernameError"></div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-input" id="regEmail" required>
                        <div class="form-error" id="regEmailError"></div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password (min 6 characters)</label>
                        <input type="password" class="form-input" id="regPassword" required minlength="6">
                        <div class="form-error" id="regPasswordError"></div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Confirm Password</label>
                        <input type="password" class="form-input" id="regConfirmPassword" required>
                        <div class="form-error" id="regConfirmError"></div>
                    </div>
                    <button type="submit" class="form-submit">REGISTER</button>
                </form>
                <div class="form-switch">
                    Already have an account? <a href="#" id="switchToLogin">Login</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Deposit Modal -->
    <div class="modal-overlay" id="depositModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">üí∞ Deposit</h3>
                <button class="modal-close" onclick="closeModal('depositModal')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Payment Method</label>
                    <div class="payment-methods" id="paymentMethods">
                        <div class="payment-method selected" data-method="bca">
                            <div class="payment-method-icon">üè¶</div>
                            <div class="payment-method-name">BCA</div>
                        </div>
                        <div class="payment-method" data-method="mandiri">
                            <div class="payment-method-icon">üè¶</div>
                            <div class="payment-method-name">Mandiri</div>
                        </div>
                        <div class="payment-method" data-method="dana">
                            <div class="payment-method-icon">üì±</div>
                            <div class="payment-method-name">DANA</div>
                        </div>
                        <div class="payment-method" data-method="gopay">
                            <div class="payment-method-icon">üì±</div>
                            <div class="payment-method-name">GoPay</div>
                        </div>
                        <div class="payment-method" data-method="ovo">
                            <div class="payment-method-icon">üì±</div>
                            <div class="payment-method-name">OVO</div>
                        </div>
                        <div class="payment-method" data-method="qris">
                            <div class="payment-method-icon">üì≤</div>
                            <div class="payment-method-name">QRIS</div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Amount</label>
                    <div class="amount-presets">
                        <button class="amount-preset" data-amount="50000">50K</button>
                        <button class="amount-preset selected" data-amount="100000">100K</button>
                        <button class="amount-preset" data-amount="500000">500K</button>
                        <button class="amount-preset" data-amount="1000000">1JT</button>
                    </div>
                    <input type="number" class="form-input" id="depositAmount" value="100000" min="10000">
                </div>
                <button class="form-submit" id="depositSubmit">DEPOSIT SEKARANG</button>
            </div>
        </div>
    </div>

    <!-- Bonus Popup -->
    <div class="modal-overlay bonus-popup" id="bonusPopup">
        <div class="modal">
            <div class="modal-body">
                <div class="bonus-icon">üéÅ</div>
                <div class="bonus-title">SELAMAT DATANG!</div>
                <div class="bonus-amount">Rp 10.000</div>
                <div class="bonus-desc">Gratis untuk kamu! Daftar sekarang dan langsung bermain!</div>
                <button class="bonus-btn" id="claimBonusBtn">CLAIM & DAFTAR</button>
            </div>
        </div>
    </div>

    <!-- Game Modal -->
    <div class="modal-overlay game-modal" id="gameModal">
        <div class="modal">
            <div class="game-modal-header">
                <div class="game-modal-title">
                    <span id="gameModalIcon">‚ö°</span>
                    <span id="gameModalName">Gates of Olympus</span>
                </div>
                <div style="display: flex; gap: 8px; align-items: center;">
                    <span class="game-modal-provider" id="gameModalProvider">Pragmatic Play</span>
                    <button class="modal-close" onclick="closeModal('gameModal')">√ó</button>
                </div>
            </div>
            <div class="slot-container">
                <!-- Slot Info Bar -->
                <div class="slot-info-bar">
                    <div class="slot-info-item">
                        <div class="slot-info-label">RTP</div>
                        <div class="slot-info-value" id="slotRtp">96.5%</div>
                    </div>
                    <div class="slot-info-item">
                        <div class="slot-info-label">VOLATILITY</div>
                        <div class="slot-info-value" id="slotVolatility">HIGH</div>
                    </div>
                    <div class="slot-info-item">
                        <div class="slot-info-label">MAX WIN</div>
                        <div class="slot-info-value" id="slotMaxWin">x5000</div>
                    </div>
                </div>

                <!-- Slot Machine -->
                <div class="slot-machine">
                    <div class="slot-reels-container" id="slotReelsContainer">
                        <div class="slot-reels" id="slotReels"></div>
                    </div>
                </div>

                <!-- Balance Bar -->
                <div class="slot-balance-bar">
                    <div class="slot-balance-item">
                        <div class="slot-balance-label">BALANCE</div>
                        <div class="slot-balance-value balance" id="slotBalance">0</div>
                    </div>
                    <div class="slot-balance-item">
                        <div class="slot-balance-label">BET</div>
                        <div class="slot-balance-value bet" id="slotBet">100</div>
                    </div>
                    <div class="slot-balance-item">
                        <div class="slot-balance-label">WIN</div>
                        <div class="slot-balance-value win" id="slotWin">0</div>
                    </div>
                </div>

                <!-- Bet Selector -->
                <div class="bet-selector" id="betSelector">
                    <button class="bet-btn" data-bet="10">10</button>
                    <button class="bet-btn" data-bet="50">50</button>
                    <button class="bet-btn selected" data-bet="100">100</button>
                    <button class="bet-btn" data-bet="500">500</button>
                    <button class="bet-btn" data-bet="1000">1K</button>
                    <button class="bet-btn" data-bet="5000">5K</button>
                    <button class="bet-btn" data-bet="max">MAX</button>
                </div>

                <!-- Controls -->
                <div class="slot-controls">
                    <button class="slot-control-btn" id="autoSpinBtn">
                        <span>üîÑ</span>
                        <span>AUTO</span>
                    </button>
                    <button class="spin-btn" id="spinBtn">
                        <span>üé∞</span>
                        <span>SPIN</span>
                    </button>
                    <button class="slot-control-btn" id="turboBtn">
                        <span>‚ö°</span>
                        <span>TURBO</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- History Modal -->
    <div class="modal-overlay" id="historyModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">üìú History</h3>
                <button class="modal-close" onclick="closeModal('historyModal')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="tabs">
                    <button class="tab active" data-tab="spins">Spin History</button>
                    <button class="tab" data-tab="transactions">Transactions</button>
                </div>
                <div class="history-list" id="historyList"></div>
            </div>
        </div>
    </div>

    <!-- Profile Modal -->
    <div class="modal-overlay" id="profileModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">üë§ Profile</h3>
                <button class="modal-close" onclick="closeModal('profileModal')">√ó</button>
            </div>
            <div class="modal-body">
                <div style="text-align: center; margin-bottom: 20px;">
                    <div class="menu-avatar" style="width: 80px; height: 80px; font-size: 2.5rem; margin: 0 auto 12px;" id="profileAvatar">?</div>
                    <div style="font-size: 1.2rem; font-weight: 600;" id="profileUsername">Username</div>
                    <div style="font-size: 0.85rem; color: var(--gray);" id="profileEmail">email@example.com</div>
                </div>
                <div class="tier-card" style="margin-bottom: 16px;">
                    <div class="tier-header">
                        <div class="tier-badge">
                            <span class="tier-icon" id="profileTierIcon">ü•â</span>
                            <span class="tier-name bronze" id="profileTierName">BRONZE</span>
                        </div>
                        <div class="tier-level" id="profileTierLevel">Level 1</div>
                    </div>
                    <div class="tier-progress">
                        <div class="tier-progress-bar" id="profileTierProgress" style="width: 0%"></div>
                    </div>
                    <div class="tier-xp" id="profileTierXp">0 / 1000 XP</div>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="profileBalance">0</div>
                        <div class="stat-label">Balance</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="profileTotalSpins">0</div>
                        <div class="stat-label">Total Spins</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal-overlay" id="settingsModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">‚öôÔ∏è Settings</h3>
                <button class="modal-close" onclick="closeModal('settingsModal')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label style="display: flex; justify-content: space-between; align-items: center;">
                        <span>üîä Sound Effects</span>
                        <input type="checkbox" id="soundToggle" checked style="width: 24px; height: 24px;">
                    </label>
                </div>
                <div class="form-group">
                    <label style="display: flex; justify-content: space-between; align-items: center;">
                        <span>‚ö° Turbo Mode Default</span>
                        <input type="checkbox" id="turboDefault" style="width: 24px; height: 24px;">
                    </label>
                </div>
            </div>
        </div>
    </div>

    <!-- Cheat Password Modal -->
    <div class="modal-overlay" id="cheatPasswordModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">üîÆ Secret Access</h3>
                <button class="modal-close" onclick="closeModal('cheatPasswordModal')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Enter Password</label>
                    <input type="password" class="form-input" id="cheatPassword" placeholder="Enter secret code...">
                    <div class="form-error" id="cheatPasswordError"></div>
                </div>
                <button class="form-submit" id="cheatPasswordSubmit" style="background: linear-gradient(135deg, var(--purple), #7C3AED);">UNLOCK</button>
            </div>
        </div>
    </div>

    <!-- Cheat Panel -->
    <div class="cheat-panel" id="cheatPanel">
        <div class="cheat-header">
            <div class="cheat-title">üîÆ CUSTOM WIN PANEL</div>
            <button class="modal-close" onclick="toggleCheatPanel(false)">√ó</button>
        </div>
        <div class="cheat-body">
            <div class="cheat-section">
                <div class="cheat-label">WIN RATE</div>
                <input type="range" class="cheat-slider" id="cheatWinRate" min="0" max="100" value="30">
                <div class="cheat-value"><span id="cheatWinRateValue">30</span>%</div>
            </div>
            <div class="cheat-section">
                <div class="cheat-label">MULTIPLIER OVERRIDE</div>
                <input type="range" class="cheat-slider" id="cheatMultiplier" min="1" max="500" value="1">
                <div class="cheat-value">x<span id="cheatMultiplierValue">1</span></div>
            </div>
            <div class="cheat-section">
                <div class="cheat-label">FORCE NEXT SPIN</div>
                <div class="cheat-buttons">
                    <button class="cheat-btn" id="forceJackpot">üèÜ JACKPOT</button>
                    <button class="cheat-btn" id="forceBigWin">üíé BIG WIN</button>
                    <button class="cheat-btn" id="forceWin">‚ú® WIN</button>
                </div>
            </div>
            <div class="cheat-section">
                <div class="cheat-label">ADD BALANCE</div>
                <div class="cheat-buttons">
                    <button class="cheat-btn" id="add1m">+1 JUTA</button>
                    <button class="cheat-btn" id="add10m">+10 JUTA</button>
                    <button class="cheat-btn" id="add100m">+100 JUTA</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Win Overlay -->
    <div class="win-overlay" id="winOverlay">
        <div class="win-backdrop"></div>
        <div class="win-content">
            <div class="win-title" id="winTitle">BIG WIN!</div>
            <div class="win-amount" id="winAmount">Rp 0</div>
            <div class="win-continue">Tap to continue</div>
        </div>
    </div>

    <!-- Confetti Container -->
    <div class="confetti-container" id="confettiContainer"></div>

    <!-- Toast -->
    <div class="toast" id="toast"></div>

    <!-- PWA Install Prompt -->
    <div class="install-prompt" id="installPrompt">
        <button class="install-close" onclick="hideInstallPrompt()">√ó</button>
        <div class="install-content">
            <div class="install-icon">‚ö°</div>
            <div class="install-text">
                <div class="install-title">Install TITAN OLYMPUS</div>
                <div class="install-desc">Install app for better experience</div>
            </div>
            <button class="install-btn" id="installBtn">Install</button>
        </div>
    </div>

    <script>
        // ============================================
        // CONFIGURATION & CONSTANTS
        // ============================================
        const CONFIG = {
            CHEAT_PASSWORD: 'CHEATGACOR123',
            INITIAL_BONUS: 10000,
            JACKPOT_BASE: 127843250,
            SPIN_DURATION: 2000,
            SPIN_DURATION_TURBO: 600,
            AUTO_SPIN_DELAY: 1000
        };

        const TIER_CONFIG = {
            bronze: { name: 'BRONZE', icon: 'ü•â', color: '#CD7F32', minXp: 0 },
            silver: { name: 'SILVER', icon: 'ü•à', color: '#C0C0C0', minXp: 1000 },
            gold: { name: 'GOLD', icon: 'ü•á', color: '#FFD700', minXp: 5000 },
            platinum: { name: 'PLATINUM', icon: 'üí†', color: '#E5E4E2', minXp: 20000 },
            diamond: { name: 'DIAMOND', icon: 'üíé', color: '#00D4FF', minXp: 100000 }
        };

        const ACHIEVEMENTS = [
            { id: 'first_spin', name: 'First Spin', icon: 'üé∞', desc: 'Complete your first spin' },
            { id: 'hot_streak', name: 'Hot Streak', icon: 'üî•', desc: 'Win 5 times in a row' },
            { id: 'big_winner', name: 'Big Winner', icon: 'üíé', desc: 'Win 100,000+ in one spin' },
            { id: 'jackpot_hunter', name: 'Jackpot Hunter', icon: 'üëë', desc: 'Hit a jackpot' },
            { id: 'game_explorer', name: 'Game Explorer', icon: 'üéÆ', desc: 'Play all 8 games' },
            { id: 'millionaire', name: 'Millionaire', icon: 'üí∞', desc: 'Reach 1,000,000 balance' },
            { id: 'speed_demon', name: 'Speed Demon', icon: '‚ö°', desc: 'Use Turbo mode 100 times' },
            { id: 'auto_pilot', name: 'Auto Pilot', icon: 'ü§ñ', desc: 'Use Auto spin 50 times' }
        ];

        // Game definitions with different grid sizes
        const GAMES = [
            {
                id: 'gates_of_olympus',
                name: 'Gates of Olympus',
                provider: 'Pragmatic Play',
                rtp: 96.5,
                volatility: 'HIGH',
                maxWin: 5000,
                grid: { cols: 6, rows: 5 },
                theme: 'zeus',
                icon: '‚ö°',
                hot: true
            },
            {
                id: 'sweet_bonanza',
                name: 'Sweet Bonanza',
                provider: 'Pragmatic Play',
                rtp: 96.48,
                volatility: 'HIGH',
                maxWin: 21175,
                grid: { cols: 6, rows: 5 },
                theme: 'candy',
                icon: 'üç≠',
                hot: true
            },
            {
                id: 'mahjong_ways',
                name: 'Mahjong Ways',
                provider: 'PG Soft',
                rtp: 96.95,
                volatility: 'MED',
                maxWin: 2000,
                grid: { cols: 5, rows: 4 },
                theme: 'mahjong',
                icon: 'üÄÑ',
                hot: false
            },
            {
                id: 'lucky_neko',
                name: 'Lucky Neko',
                provider: 'PG Soft',
                rtp: 96.73,
                volatility: 'HIGH',
                maxWin: 6500,
                grid: { cols: 5, rows: 4 },
                theme: 'neko',
                icon: 'üê±',
                hot: false
            },
            {
                id: 'classic_777',
                name: 'Classic 777',
                provider: 'Habanero',
                rtp: 96.0,
                volatility: 'LOW',
                maxWin: 500,
                grid: { cols: 3, rows: 3 },
                theme: 'classic',
                icon: '7Ô∏è‚É£',
                hot: false
            },
            {
                id: 'dragon_tiger',
                name: 'Dragon Tiger',
                provider: 'Spadegaming',
                rtp: 96.81,
                volatility: 'MED',
                maxWin: 3000,
                grid: { cols: 5, rows: 3 },
                theme: 'dragon',
                icon: 'üê≤',
                hot: true
            },
            {
                id: 'aztec_gold',
                name: 'Aztec Gold',
                provider: 'Joker Gaming',
                rtp: 95.5,
                volatility: 'HIGH',
                maxWin: 4000,
                grid: { cols: 5, rows: 3 },
                theme: 'aztec',
                icon: 'üóø',
                hot: false
            },
            {
                id: 'candy_burst',
                name: 'Candy Burst',
                provider: 'CQ9',
                rtp: 96.2,
                volatility: 'MED',
                maxWin: 1500,
                grid: { cols: 5, rows: 4 },
                theme: 'candy2',
                icon: 'üç¨',
                hot: false
            }
        ];

        // Symbol definitions for each theme
        const SYMBOLS = {
            zeus: [
                { id: 'zeus', name: 'Zeus', multiplier: 200, weight: 1, svg: createZeusSVG() },
                { id: 'crown', name: 'Crown', multiplier: 100, weight: 2, svg: createCrownSVG() },
                { id: 'lightning', name: 'Lightning', multiplier: 75, weight: 3, svg: createLightningSVG() },
                { id: 'ring', name: 'Ring', multiplier: 50, weight: 5, svg: createRingSVG() },
                { id: 'hourglass', name: 'Hourglass', multiplier: 30, weight: 8, svg: createHourglassSVG() },
                { id: 'goblet', name: 'Goblet', multiplier: 25, weight: 10, svg: createGobletSVG() },
                { id: 'red_gem', name: 'Red Gem', multiplier: 15, weight: 15, svg: createGemSVG('#FF3333') },
                { id: 'purple_gem', name: 'Purple Gem', multiplier: 12, weight: 18, svg: createGemSVG('#A855F7') },
                { id: 'green_gem', name: 'Green Gem', multiplier: 10, weight: 20, svg: createGemSVG('#00FF88') },
                { id: 'blue_gem', name: 'Blue Gem', multiplier: 8, weight: 22, svg: createGemSVG('#00D4FF') },
                { id: 'wild', name: 'Wild', multiplier: 500, weight: 0.5, svg: createWildSVG(), isWild: true }
            ],
            candy: [
                { id: 'bomb', name: 'Bomb', multiplier: 200, weight: 1, svg: createBombSVG() },
                { id: 'heart_candy', name: 'Heart', multiplier: 100, weight: 2, svg: createHeartCandySVG() },
                { id: 'square_candy', name: 'Square', multiplier: 75, weight: 3, svg: createSquareCandySVG() },
                { id: 'lollipop', name: 'Lollipop', multiplier: 50, weight: 5, svg: createLollipopSVG() },
                { id: 'gummy', name: 'Gummy', multiplier: 30, weight: 8, svg: createGummySVG() },
                { id: 'banana', name: 'Banana', multiplier: 25, weight: 10, svg: createBananaSVG() },
                { id: 'grape', name: 'Grape', multiplier: 15, weight: 15, svg: createGrapeSVG() },
                { id: 'watermelon', name: 'Watermelon', multiplier: 12, weight: 18, svg: createWatermelonSVG() },
                { id: 'plum', name: 'Plum', multiplier: 10, weight: 20, svg: createPlumSVG() },
                { id: 'apple', name: 'Apple', multiplier: 8, weight: 22, svg: createAppleSVG() },
                { id: 'wild', name: 'Wild', multiplier: 500, weight: 0.5, svg: createWildSVG(), isWild: true }
            ],
            mahjong: [
                { id: 'dragon_tile', name: 'Dragon', multiplier: 200, weight: 1, svg: createMahjongTileSVG('üê≤', '#FF3333') },
                { id: 'wind_tile', name: 'Wind', multiplier: 100, weight: 2, svg: createMahjongTileSVG('È¢®', '#00D4FF') },
                { id: 'bamboo_tile', name: 'Bamboo', multiplier: 75, weight: 3, svg: createMahjongTileSVG('Á´π', '#00FF88') },
                { id: 'circle_tile', name: 'Circle', multiplier: 50, weight: 5, svg: createMahjongTileSVG('‚óè', '#FFD700') },
                { id: 'character_tile', name: 'Character', multiplier: 30, weight: 8, svg: createMahjongTileSVG('Ëê¨', '#FF6B6B') },
                { id: 'one_tile', name: 'One', multiplier: 25, weight: 10, svg: createMahjongTileSVG('‰∏Ä', '#FFFFFF') },
                { id: 'two_tile', name: 'Two', multiplier: 15, weight: 15, svg: createMahjongTileSVG('‰∫å', '#FFFFFF') },
                { id: 'three_tile', name: 'Three', multiplier: 12, weight: 18, svg: createMahjongTileSVG('‰∏â', '#FFFFFF') },
                { id: 'four_tile', name: 'Four', multiplier: 10, weight: 20, svg: createMahjongTileSVG('Âõõ', '#FFFFFF') },
                { id: 'five_tile', name: 'Five', multiplier: 8, weight: 22, svg: createMahjongTileSVG('‰∫î', '#FFFFFF') },
                { id: 'wild', name: 'Wild', multiplier: 500, weight: 0.5, svg: createWildSVG(), isWild: true }
            ],
            neko: [
                { id: 'daruma', name: 'Daruma', multiplier: 200, weight: 1, svg: createDarumaSVG() },
                { id: 'neko', name: 'Lucky Cat', multiplier: 100, weight: 2, svg: createNekoSVG() },
                { id: 'koban', name: 'Koban', multiplier: 75, weight: 3, svg: createKobanSVG() },
                { id: 'fan', name: 'Fan', multiplier: 50, weight: 5, svg: createFanSVG() },
                { id: 'bell', name: 'Bell', multiplier: 30, weight: 8, svg: createBellSVG() },
                { id: 'fish', name: 'Fish', multiplier: 25, weight: 10, svg: createFishSVG() },
                { id: 'a_card', name: 'A', multiplier: 15, weight: 15, svg: createCardSVG('A') },
                { id: 'k_card', name: 'K', multiplier: 12, weight: 18, svg: createCardSVG('K') },
                { id: 'q_card', name: 'Q', multiplier: 10, weight: 20, svg: createCardSVG('Q') },
                { id: 'j_card', name: 'J', multiplier: 8, weight: 22, svg: createCardSVG('J') },
                { id: 'wild', name: 'Wild', multiplier: 500, weight: 0.5, svg: createWildSVG(), isWild: true }
            ],
            classic: [
                { id: 'seven', name: 'Lucky 7', multiplier: 200, weight: 1, svg: createSevenSVG() },
                { id: 'bar', name: 'BAR', multiplier: 100, weight: 2, svg: createBarSVG() },
                { id: 'diamond', name: 'Diamond', multiplier: 75, weight: 3, svg: createDiamondSVG() },
                { id: 'bell', name: 'Bell', multiplier: 50, weight: 5, svg: createClassicBellSVG() },
                { id: 'star', name: 'Star', multiplier: 30, weight: 8, svg: createStarSVG() },
                { id: 'cherry', name: 'Cherry', multiplier: 25, weight: 10, svg: createCherrySVG() },
                { id: 'lemon', name: 'Lemon', multiplier: 15, weight: 15, svg: createLemonSVG() },
                { id: 'orange', name: 'Orange', multiplier: 12, weight: 18, svg: createOrangeSVG() },
                { id: 'plum', name: 'Plum', multiplier: 10, weight: 20, svg: createPlumSVG() },
                { id: 'melon', name: 'Melon', multiplier: 8, weight: 22, svg: createMelonSVG() },
                { id: 'wild', name: 'Wild', multiplier: 500, weight: 0.5, svg: createWildSVG(), isWild: true }
            ],
            dragon: [
                { id: 'dragon', name: 'Dragon', multiplier: 200, weight: 1, svg: createDragonSVG() },
                { id: 'tiger', name: 'Tiger', multiplier: 100, weight: 2, svg: createTigerSVG() },
                { id: 'phoenix', name: 'Phoenix', multiplier: 75, weight: 3, svg: createPhoenixSVG() },
                { id: 'turtle', name: 'Turtle', multiplier: 50, weight: 5, svg: createTurtleSVG() },
                { id: 'coin', name: 'Coin', multiplier: 30, weight: 8, svg: createChineseCoinSVG() },
                { id: 'lantern', name: 'Lantern', multiplier: 25, weight: 10, svg: createLanternSVG() },
                { id: 'a_card', name: 'A', multiplier: 15, weight: 15, svg: createCardSVG('A') },
                { id: 'k_card', name: 'K', multiplier: 12, weight: 18, svg: createCardSVG('K') },
                { id: 'q_card', name: 'Q', multiplier: 10, weight: 20, svg: createCardSVG('Q') },
                { id: 'j_card', name: 'J', multiplier: 8, weight: 22, svg: createCardSVG('J') },
                { id: 'wild', name: 'Wild', multiplier: 500, weight: 0.5, svg: createWildSVG(), isWild: true }
            ],
            aztec: [
                { id: 'sun', name: 'Sun God', multiplier: 200, weight: 1, svg: createAztecSunSVG() },
                { id: 'mask', name: 'Mask', multiplier: 100, weight: 2, svg: createAztecMaskSVG() },
                { id: 'pyramid', name: 'Pyramid', multiplier: 75, weight: 3, svg: createPyramidSVG() },
                { id: 'eagle', name: 'Eagle', multiplier: 50, weight: 5, svg: createEagleSVG() },
                { id: 'snake', name: 'Snake', multiplier: 30, weight: 8, svg: createSnakeSVG() },
                { id: 'gold', name: 'Gold', multiplier: 25, weight: 10, svg: createAztecGoldSVG() },
                { id: 'a_card', name: 'A', multiplier: 15, weight: 15, svg: createCardSVG('A') },
                { id: 'k_card', name: 'K', multiplier: 12, weight: 18, svg: createCardSVG('K') },
                { id: 'q_card', name: 'Q', multiplier: 10, weight: 20, svg: createCardSVG('Q') },
                { id: 'j_card', name: 'J', multiplier: 8, weight: 22, svg: createCardSVG('J') },
                { id: 'wild', name: 'Wild', multiplier: 500, weight: 0.5, svg: createWildSVG(), isWild: true }
            ],
            candy2: [
                { id: 'rainbow', name: 'Rainbow', multiplier: 200, weight: 1, svg: createRainbowCandySVG() },
                { id: 'star_candy', name: 'Star Candy', multiplier: 100, weight: 2, svg: createStarCandySVG() },
                { id: 'jellybean', name: 'Jellybean', multiplier: 75, weight: 3, svg: createJellybeanSVG() },
                { id: 'cupcake', name: 'Cupcake', multiplier: 50, weight: 5, svg: createCupcakeSVG() },
                { id: 'donut', name: 'Donut', multiplier: 30, weight: 8, svg: createDonutSVG() },
                { id: 'icecream', name: 'Ice Cream', multiplier: 25, weight: 10, svg: createIceCreamSVG() },
                { id: 'red_candy', name: 'Red Candy', multiplier: 15, weight: 15, svg: createSimpleCandySVG('#FF3333') },
                { id: 'blue_candy', name: 'Blue Candy', multiplier: 12, weight: 18, svg: createSimpleCandySVG('#00D4FF') },
                { id: 'green_candy', name: 'Green Candy', multiplier: 10, weight: 20, svg: createSimpleCandySVG('#00FF88') },
                { id: 'yellow_candy', name: 'Yellow Candy', multiplier: 8, weight: 22, svg: createSimpleCandySVG('#FFD700') },
                { id: 'wild', name: 'Wild', multiplier: 500, weight: 0.5, svg: createWildSVG(), isWild: true }
            ]
        };

        // ============================================
        // SVG CREATION FUNCTIONS
        // ============================================
        function createZeusSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="zeusGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#FFD700"/>
                        <stop offset="50%" style="stop-color:#FFA500"/>
                        <stop offset="100%" style="stop-color:#FF6B00"/>
                    </linearGradient>
                    <filter id="zeusShadow"><feDropShadow dx="0" dy="2" stdDeviation="2" flood-opacity="0.5"/></filter>
                </defs>
                <circle cx="40" cy="35" r="18" fill="url(#zeusGrad)" filter="url(#zeusShadow)"/>
                <ellipse cx="40" cy="20" rx="12" ry="6" fill="#FFE55C"/>
                <path d="M25 50 Q40 65 55 50" stroke="#FFD700" stroke-width="4" fill="none"/>
                <circle cx="34" cy="32" r="3" fill="#0A0A0F"/>
                <circle cx="46" cy="32" r="3" fill="#0A0A0F"/>
                <path d="M35 42 Q40 46 45 42" stroke="#0A0A0F" stroke-width="2" fill="none"/>
                <path d="M20 25 L28 35 L22 35 L30 48" stroke="#FFD700" stroke-width="2.5" fill="none" stroke-linecap="round"/>
                <path d="M60 25 L52 35 L58 35 L50 48" stroke="#FFD700" stroke-width="2.5" fill="none" stroke-linecap="round"/>
            </svg>`;
        }

        function createCrownSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="crownGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                        <stop offset="0%" style="stop-color:#FFE55C"/>
                        <stop offset="100%" style="stop-color:#B8860B"/>
                    </linearGradient>
                </defs>
                <path d="M12 55 L20 25 L30 40 L40 18 L50 40 L60 25 L68 55 Z" fill="url(#crownGrad)" stroke="#FFD700" stroke-width="2"/>
                <rect x="12" y="55" width="56" height="12" rx="2" fill="url(#crownGrad)" stroke="#FFD700" stroke-width="2"/>
                <circle cx="20" cy="28" r="4" fill="#FF3333"/>
                <circle cx="40" cy="22" r="5" fill="#00D4FF"/>
                <circle cx="60" cy="28" r="4" fill="#00FF88"/>
            </svg>`;
        }

        function createLightningSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="lightGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#FFE55C"/>
                        <stop offset="100%" style="stop-color:#FFD700"/>
                    </linearGradient>
                    <filter id="glow"><feGaussianBlur stdDeviation="2" result="blur"/><feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
                </defs>
                <path d="M45 8 L20 38 L35 38 L28 72 L58 35 L42 35 L52 8 Z" fill="url(#lightGrad)" stroke="#FFA500" stroke-width="2" filter="url(#glow)"/>
            </svg>`;
        }

        function createRingSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="ringGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#FFE55C"/>
                        <stop offset="100%" style="stop-color:#B8860B"/>
                    </linearGradient>
                </defs>
                <ellipse cx="40" cy="50" rx="25" ry="12" fill="none" stroke="url(#ringGrad)" stroke-width="8"/>
                <circle cx="40" cy="28" r="14" fill="#00D4FF" stroke="#FFD700" stroke-width="3"/>
                <circle cx="40" cy="28" r="6" fill="#FFFFFF" opacity="0.6"/>
            </svg>`;
        }

        function createHourglassSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="hourGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                        <stop offset="0%" style="stop-color:#FFE55C"/>
                        <stop offset="100%" style="stop-color:#B8860B"/>
                    </linearGradient>
                </defs>
                <rect x="20" y="10" width="40" height="6" rx="2" fill="url(#hourGrad)"/>
                <rect x="20" y="64" width="40" height="6" rx="2" fill="url(#hourGrad)"/>
                <path d="M22 16 L40 40 L22 64 M58 16 L40 40 L58 64" stroke="url(#hourGrad)" stroke-width="3" fill="none"/>
                <path d="M26 20 L40 36 L54 20 Z" fill="#00D4FF" opacity="0.5"/>
                <path d="M32 58 L40 48 L48 58 Z" fill="#00D4FF"/>
            </svg>`;
        }

        function createGobletSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="gobletGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                        <stop offset="0%" style="stop-color:#FFE55C"/>
                        <stop offset="100%" style="stop-color:#B8860B"/>
                    </linearGradient>
                </defs>
                <ellipse cx="40" cy="20" rx="22" ry="10" fill="url(#gobletGrad)"/>
                <path d="M18 20 Q18 45 40 50 Q62 45 62 20" fill="url(#gobletGrad)"/>
                <rect x="36" y="50" width="8" height="12" fill="url(#gobletGrad)"/>
                <ellipse cx="40" cy="68" rx="16" ry="5" fill="url(#gobletGrad)"/>
                <ellipse cx="40" cy="22" rx="16" ry="6" fill="#A855F7" opacity="0.7"/>
            </svg>`;
        }

        function createGemSVG(color) {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="gem${color.replace('#','')}" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:${color}"/>
                        <stop offset="50%" style="stop-color:${adjustColor(color, 30)}"/>
                        <stop offset="100%" style="stop-color:${adjustColor(color, -30)}"/>
                    </linearGradient>
                </defs>
                <polygon points="40,10 65,30 55,70 25,70 15,30" fill="url(#gem${color.replace('#','')})" stroke="${adjustColor(color, -20)}" stroke-width="2"/>
                <polygon points="40,10 50,25 40,35 30,25" fill="${adjustColor(color, 40)}" opacity="0.7"/>
                <polygon points="40,35 50,25 55,40" fill="${adjustColor(color, 20)}" opacity="0.5"/>
            </svg>`;
        }

        function createWildSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="wildGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#FF3333"/>
                        <stop offset="25%" style="stop-color:#FFD700"/>
                        <stop offset="50%" style="stop-color:#00FF88"/>
                        <stop offset="75%" style="stop-color:#00D4FF"/>
                        <stop offset="100%" style="stop-color:#A855F7"/>
                    </linearGradient>
                    <filter id="wildGlow">
                        <feGaussianBlur stdDeviation="3" result="blur"/>
                        <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
                    </filter>
                </defs>
                <rect x="10" y="20" width="60" height="40" rx="8" fill="url(#wildGrad)" filter="url(#wildGlow)" stroke="#FFFFFF" stroke-width="2"/>
                <text x="40" y="48" font-family="Arial Black" font-size="20" fill="#FFFFFF" text-anchor="middle" font-weight="bold">WILD</text>
            </svg>`;
        }

        // Candy theme SVGs
        function createBombSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <circle cx="40" cy="45" r="25" fill="#2D2D2D" stroke="#1A1A1A" stroke-width="3"/>
                <ellipse cx="35" cy="35" rx="8" ry="6" fill="#4A4A4A"/>
                <rect x="36" y="12" width="8" height="15" fill="#8B4513"/>
                <path d="M40 8 Q50 5 55 12" stroke="#FF6600" stroke-width="3" fill="none"/>
                <circle cx="55" cy="10" r="5" fill="#FF3333"/>
                <circle cx="55" cy="10" r="3" fill="#FFD700"/>
            </svg>`;
        }

        function createHeartCandySVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="heartGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#FF6B9D"/>
                        <stop offset="100%" style="stop-color:#C44569"/>
                    </linearGradient>
                </defs>
                <path d="M40 70 C10 45 10 20 30 20 C38 20 40 28 40 28 C40 28 42 20 50 20 C70 20 70 45 40 70" fill="url(#heartGrad)" stroke="#FF3366" stroke-width="2"/>
                <ellipse cx="30" cy="30" rx="6" ry="4" fill="#FFB6C1" opacity="0.6"/>
            </svg>`;
        }

        function createSquareCandySVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="squareGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#4ECDC4"/>
                        <stop offset="100%" style="stop-color:#2C8C85"/>
                    </linearGradient>
                </defs>
                <rect x="15" y="15" width="50" height="50" rx="8" fill="url(#squareGrad)" stroke="#1A6B66" stroke-width="2"/>
                <rect x="22" y="22" width="12" height="12" rx="2" fill="#7FECE5" opacity="0.5"/>
            </svg>`;
        }

        function createLollipopSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <rect x="37" y="45" width="6" height="30" rx="2" fill="#DEB887"/>
                <circle cx="40" cy="30" r="22" fill="#FF69B4"/>
                <path d="M40 8 A22 22 0 0 1 62 30" stroke="#FFFFFF" stroke-width="6" fill="none"/>
                <path d="M40 8 A22 22 0 0 0 18 30" stroke="#FF1493" stroke-width="6" fill="none"/>
                <path d="M18 30 A22 22 0 0 0 40 52" stroke="#FFFFFF" stroke-width="6" fill="none"/>
            </svg>`;
        }

        function createGummySVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="gummyGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                        <stop offset="0%" style="stop-color:#FFD700"/>
                        <stop offset="100%" style="stop-color:#FFA500"/>
                    </linearGradient>
                </defs>
                <ellipse cx="40" cy="55" rx="12" ry="8" fill="url(#gummyGrad)"/>
                <ellipse cx="28" cy="45" rx="10" ry="12" fill="url(#gummyGrad)"/>
                <ellipse cx="52" cy="45" rx="10" ry="12" fill="url(#gummyGrad)"/>
                <ellipse cx="40" cy="28" rx="18" ry="15" fill="url(#gummyGrad)"/>
                <circle cx="33" cy="26" r="4" fill="#1A1A1A"/>
                <circle cx="47" cy="26" r="4" fill="#1A1A1A"/>
                <path d="M35 35 Q40 40 45 35" stroke="#1A1A1A" stroke-width="2" fill="none"/>
            </svg>`;
        }

        function createBananaSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="bananaGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" style="stop-color:#FFE135"/>
                        <stop offset="100%" style="stop-color:#F4C430"/>
                    </linearGradient>
                </defs>
                <path d="M20 60 Q15 40 25 25 Q40 10 60 20 Q55 30 50 35 Q30 45 25 60 Z" fill="url(#bananaGrad)" stroke="#DAA520" stroke-width="2"/>
                <path d="M58 22 Q62 18 65 20" stroke="#8B4513" stroke-width="3" fill="none"/>
            </svg>`;
        }

        function createGrapeSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <radialGradient id="grapeGrad"><stop offset="0%" style="stop-color:#9B59B6"/><stop offset="100%" style="stop-color:#6C3483"/></radialGradient>
                </defs>
                <path d="M38 12 L42 12 L42 20 L38 20 Z" fill="#228B22"/>
                <path d="M40 15 Q50 10 55 15" stroke="#228B22" stroke-width="3" fill="none"/>
                <circle cx="30" cy="35" r="10" fill="url(#grapeGrad)"/><circle cx="50" cy="35" r="10" fill="url(#grapeGrad)"/>
                <circle cx="25" cy="50" r="10" fill="url(#grapeGrad)"/><circle cx="40" cy="45" r="10" fill="url(#grapeGrad)"/>
                <circle cx="55" cy="50" r="10" fill="url(#grapeGrad)"/><circle cx="32" cy="62" r="10" fill="url(#grapeGrad)"/>
                <circle cx="48" cy="62" r="10" fill="url(#grapeGrad)"/>
            </svg>`;
        }

        function createWatermelonSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <path d="M10 50 A40 40 0 0 1 70 50 Z" fill="#228B22"/>
                <path d="M14 50 A36 36 0 0 1 66 50 Z" fill="#90EE90"/>
                <path d="M18 50 A32 32 0 0 1 62 50 Z" fill="#FF6B6B"/>
                <ellipse cx="30" cy="42" rx="3" ry="4" fill="#1A1A1A"/>
                <ellipse cx="40" cy="38" rx="3" ry="4" fill="#1A1A1A"/>
                <ellipse cx="50" cy="42" rx="3" ry="4" fill="#1A1A1A"/>
                <ellipse cx="35" cy="48" rx="2" ry="3" fill="#1A1A1A"/>
                <ellipse cx="45" cy="48" rx="2" ry="3" fill="#1A1A1A"/>
            </svg>`;
        }

        function createPlumSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <radialGradient id="plumGrad"><stop offset="0%" style="stop-color:#8E44AD"/><stop offset="100%" style="stop-color:#5B2C6F"/></radialGradient>
                </defs>
                <ellipse cx="40" cy="45" rx="24" ry="26" fill="url(#plumGrad)"/>
                <path d="M40 19 Q45 10 50 15" stroke="#228B22" stroke-width="3" fill="none"/>
                <ellipse cx="48" cy="12" rx="8" ry="5" fill="#228B22"/>
                <ellipse cx="32" cy="38" rx="6" ry="8" fill="#A569BD" opacity="0.5"/>
            </svg>`;
        }

        function createAppleSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <radialGradient id="appleGrad"><stop offset="0%" style="stop-color:#FF6B6B"/><stop offset="100%" style="stop-color:#C0392B"/></radialGradient>
                </defs>
                <path d="M40 20 Q15 25 15 50 Q15 72 40 72 Q65 72 65 50 Q65 25 40 20" fill="url(#appleGrad)"/>
                <rect x="38" y="10" width="4" height="12" fill="#8B4513"/>
                <ellipse cx="48" cy="12" rx="8" ry="5" fill="#228B22"/>
                <ellipse cx="30" cy="38" rx="6" ry="8" fill="#FF8C8C" opacity="0.5"/>
            </svg>`;
        }

        // Mahjong theme
        function createMahjongTileSVG(char, color) {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <rect x="10" y="8" width="60" height="64" rx="6" fill="#F5F5DC" stroke="#8B7355" stroke-width="2"/>
                <rect x="14" y="12" width="52" height="56" rx="4" fill="#FFFAF0"/>
                <text x="40" y="52" font-family="Arial" font-size="32" fill="${color}" text-anchor="middle" font-weight="bold">${char}</text>
            </svg>`;
        }

        // Neko theme
        function createDarumaSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <ellipse cx="40" cy="48" rx="28" ry="30" fill="#FF3333"/>
                <ellipse cx="40" cy="48" rx="22" ry="24" fill="#FFFAF0"/>
                <circle cx="32" cy="42" r="8" fill="#1A1A1A"/>
                <circle cx="48" cy="42" r="8" fill="#FFD700"/>
                <circle cx="48" cy="42" r="5" fill="#1A1A1A"/>
                <ellipse cx="40" cy="55" rx="4" ry="3" fill="#FF3333"/>
                <path d="M30 62 Q40 68 50 62" stroke="#1A1A1A" stroke-width="2" fill="none"/>
            </svg>`;
        }

        function createNekoSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <ellipse cx="40" cy="50" rx="25" ry="22" fill="#FFF8DC"/>
                <polygon points="18,35 25,15 35,35" fill="#FFF8DC" stroke="#DEB887" stroke-width="1"/>
                <polygon points="62,35 55,15 45,35" fill="#FFF8DC" stroke="#DEB887" stroke-width="1"/>
                <polygon points="22,30 27,20 32,30" fill="#FFB6C1"/>
                <polygon points="58,30 53,20 48,30" fill="#FFB6C1"/>
                <circle cx="32" cy="45" r="5" fill="#1A1A1A"/><circle cx="48" cy="45" r="5" fill="#1A1A1A"/>
                <circle cx="34" cy="43" r="2" fill="#FFFFFF"/><circle cx="50" cy="43" r="2" fill="#FFFFFF"/>
                <ellipse cx="40" cy="55" rx="4" ry="3" fill="#FFB6C1"/>
                <path d="M36 58 Q40 62 44 58" stroke="#1A1A1A" stroke-width="1.5" fill="none"/>
                <path d="M55 72 Q70 65 75 55" stroke="#FFF8DC" stroke-width="8" fill="none" stroke-linecap="round"/>
                <circle cx="8" cy="50" r="8" fill="#FFD700" stroke="#DAA520" stroke-width="2"/>
            </svg>`;
        }

        function createKobanSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs><linearGradient id="kobanGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#FFE55C"/><stop offset="100%" style="stop-color:#B8860B"/></linearGradient></defs>
                <ellipse cx="40" cy="40" rx="30" ry="20" fill="url(#kobanGrad)" stroke="#8B7500" stroke-width="2"/>
                <text x="40" y="46" font-family="Arial" font-size="18" fill="#8B4513" text-anchor="middle" font-weight="bold">Â∞èÂà§</text>
            </svg>`;
        }

        function createFanSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <path d="M40 70 L10 25 A35 35 0 0 1 70 25 Z" fill="#FF3333"/>
                <path d="M40 70 L15 30 A30 30 0 0 1 65 30 Z" fill="#FFD700" opacity="0.3"/>
                <line x1="40" y1="70" x2="20" y2="28" stroke="#8B4513" stroke-width="1"/>
                <line x1="40" y1="70" x2="30" y2="24" stroke="#8B4513" stroke-width="1"/>
                <line x1="40" y1="70" x2="40" y2="22" stroke="#8B4513" stroke-width="1"/>
                <line x1="40" y1="70" x2="50" y2="24" stroke="#8B4513" stroke-width="1"/>
                <line x1="40" y1="70" x2="60" y2="28" stroke="#8B4513" stroke-width="1"/>
                <circle cx="40" cy="72" r="5" fill="#8B4513"/>
            </svg>`;
        }

        function createBellSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs><linearGradient id="bellGrad" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#FFE55C"/><stop offset="100%" style="stop-color:#B8860B"/></linearGradient></defs>
                <circle cx="40" cy="14" r="6" fill="url(#bellGrad)"/>
                <path d="M20 55 Q20 25 40 20 Q60 25 60 55 Z" fill="url(#bellGrad)" stroke="#8B7500" stroke-width="2"/>
                <ellipse cx="40" cy="55" rx="22" ry="6" fill="url(#bellGrad)" stroke="#8B7500" stroke-width="2"/>
                <circle cx="40" cy="65" r="6" fill="#8B4513"/>
            </svg>`;
        }

        function createFishSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs><linearGradient id="fishGrad" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" style="stop-color:#FF6B6B"/><stop offset="100%" style="stop-color:#EE5A5A"/></linearGradient></defs>
                <path d="M65 40 Q50 20 25 30 Q10 40 25 50 Q50 60 65 40" fill="url(#fishGrad)"/>
                <polygon points="10,40 0,30 0,50" fill="url(#fishGrad)"/>
                <circle cx="55" cy="38" r="5" fill="#FFFFFF"/>
                <circle cx="56" cy="38" r="3" fill="#1A1A1A"/>
                <path d="M30 35 Q35 40 30 45" stroke="#CC4444" stroke-width="2" fill="none"/>
                <path d="M38 33 Q43 40 38 47" stroke="#CC4444" stroke-width="2" fill="none"/>
            </svg>`;
        }

        function createCardSVG(letter) {
            const colors = { 'A': '#FF3333', 'K': '#FFD700', 'Q': '#00D4FF', 'J': '#00FF88' };
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <rect x="15" y="10" width="50" height="60" rx="6" fill="#FFFFFF" stroke="#1A1A1A" stroke-width="2"/>
                <text x="40" y="52" font-family="Arial Black" font-size="36" fill="${colors[letter]}" text-anchor="middle" font-weight="bold">${letter}</text>
            </svg>`;
        }

        // Classic theme
        function createSevenSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs><linearGradient id="sevenGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#FF3333"/><stop offset="100%" style="stop-color:#CC0000"/></linearGradient></defs>
                <text x="40" y="60" font-family="Arial Black" font-size="55" fill="url(#sevenGrad)" text-anchor="middle" stroke="#FFD700" stroke-width="2">7</text>
            </svg>`;
        }

        function createBarSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs><linearGradient id="barGrad" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#A855F7"/><stop offset="100%" style="stop-color:#7C3AED"/></linearGradient></defs>
                <rect x="10" y="25" width="60" height="30" rx="4" fill="url(#barGrad)" stroke="#6B21A8" stroke-width="2"/>
                <text x="40" y="48" font-family="Arial Black" font-size="20" fill="#FFFFFF" text-anchor="middle">BAR</text>
            </svg>`;
        }

        function createDiamondSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs><linearGradient id="diamondGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#00D4FF"/><stop offset="50%" style="stop-color:#FFFFFF"/><stop offset="100%" style="stop-color:#00D4FF"/></linearGradient></defs>
                <polygon points="40,5 70,30 40,75 10,30" fill="url(#diamondGrad)" stroke="#0099CC" stroke-width="2"/>
                <polygon points="40,5 55,30 40,45 25,30" fill="#FFFFFF" opacity="0.5"/>
            </svg>`;
        }

        function createClassicBellSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs><linearGradient id="cbellGrad" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#FFE55C"/><stop offset="100%" style="stop-color:#FFD700"/></linearGradient></defs>
                <ellipse cx="40" cy="10" rx="8" ry="6" fill="url(#cbellGrad)"/>
                <path d="M15 58 Q15 20 40 15 Q65 20 65 58 Z" fill="url(#cbellGrad)" stroke="#B8860B" stroke-width="2"/>
                <rect x="12" y="58" width="56" height="8" rx="4" fill="url(#cbellGrad)" stroke="#B8860B" stroke-width="2"/>
                <circle cx="40" cy="70" r="6" fill="#B8860B"/>
            </svg>`;
        }

        function createStarSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs><linearGradient id="starGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#FFE55C"/><stop offset="100%" style="stop-color:#FFD700"/></linearGradient><filter id="starGlow"><feGaussianBlur stdDeviation="2" result="blur"/><feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge></filter></defs>
                <polygon points="40,5 48,30 75,30 53,48 62,75 40,58 18,75 27,48 5,30 32,30" fill="url(#starGrad)" stroke="#B8860B" stroke-width="2" filter="url(#starGlow)"/>
            </svg>`;
        }

        function createCherrySVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs><radialGradient id="cherryGrad"><stop offset="0%" style="stop-color:#FF6B6B"/><stop offset="100%" style="stop-color:#CC0000"/></radialGradient></defs>
                <path d="M40 15 Q30 5 25 15 Q20 25 25 30" stroke="#228B22" stroke-width="3" fill="none"/>
                <path d="M40 15 Q50 5 55 15 Q60 25 55 35" stroke="#228B22" stroke-width="3" fill="none"/>
                <ellipse cx="50" cy="12" rx="10" ry="6" fill="#228B22"/>
                <circle cx="25" cy="45" r="18" fill="url(#cherryGrad)"/>
                <circle cx="55" cy="50" r="18" fill="url(#cherryGrad)"/>
                <ellipse cx="20" cy="38" rx="5" ry="7" fill="#FF9999" opacity="0.6"/>
                <ellipse cx="50" cy="43" rx="5" ry="7" fill="#FF9999" opacity="0.6"/>
            </svg>`;
        }

        function createLemonSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs><radialGradient id="lemonGrad"><stop offset="0%" style="stop-color:#FFFF00"/><stop offset="100%" style="stop-color:#FFD700"/></radialGradient></defs>
                <ellipse cx="40" cy="42" rx="28" ry="24" fill="url(#lemonGrad)" stroke="#DAA520" stroke-width="2"/>
                <ellipse cx="12" cy="42" rx="6" ry="4" fill="url(#lemonGrad)"/>
                <ellipse cx="68" cy="42" rx="6" ry="4" fill="url(#lemonGrad)"/>
                <ellipse cx="30" cy="35" rx="6" ry="8" fill="#FFFF99" opacity="0.5"/>
            </svg>`;
        }

        function createOrangeSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs><radialGradient id="orangeGrad"><stop offset="0%" style="stop-color:#FFA500"/><stop offset="100%" style="stop-color:#FF8C00"/></radialGradient></defs>
                <circle cx="40" cy="42" r="26" fill="url(#orangeGrad)" stroke="#CC7000" stroke-width="2"/>
                <ellipse cx="40" cy="14" rx="6" ry="4" fill="#228B22"/>
                <ellipse cx="32" cy="35" rx="5" ry="7" fill="#FFD280" opacity="0.5"/>
            </svg>`;
        }

        function createMelonSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs><linearGradient id="melonGrad" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#90EE90"/><stop offset="100%" style="stop-color:#228B22"/></linearGradient></defs>
                <ellipse cx="40" cy="42" rx="28" ry="26" fill="url(#melonGrad)" stroke="#006400" stroke-width="2"/>
                <path d="M15 30 Q40 50 65 30" stroke="#006400" stroke-width="2" fill="none"/>
                <path d="M15 42 Q40 62 65 42" stroke="#006400" stroke-width="2" fill="none"/>
                <path d="M15 54 Q40 74 65 54" stroke="#006400" stroke-width="2" fill="none"/>
            </svg>`;
        }

        // Dragon theme
        function createDragonSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs><linearGradient id="dragonGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#FF3333"/><stop offset="100%" style="stop-color:#CC0000"/></linearGradient></defs>
                <path d="M25 60 Q15 45 25 35 Q30 25 40 25 Q50 25 55 35 Q65 45 55 60 Q50 70 40 70 Q30 70 25 60" fill="url(#dragonGrad)"/>
                <polygon points="30,25 25,10 35,20" fill="#FFD700"/>
                <polygon points="50,25 55,10 45,20" fill="#FFD700"/>
                <circle cx="32" cy="40" r="6" fill="#FFD700"/>
                <circle cx="48" cy="40" r="6" fill="#FFD700"/>
                <circle cx="33" cy="40" r="3" fill="#1A1A1A"/>
                <circle cx="49" cy="40" r="3" fill="#1A1A1A"/>
                <ellipse cx="40" cy="52" rx="5" ry="3" fill="#1A1A1A"/>
                <path d="M30 58 Q40 65 50 58" stroke="#FF6666" stroke-width="2" fill="none"/>
                <path d="M18 40 Q5 35 8 50 Q10 60 20 55" fill="none" stroke="url(#dragonGrad)" stroke-width="4"/>
                <path d="M62 40 Q75 35 72 50 Q70 60 60 55" fill="none" stroke="url(#dragonGrad)" stroke-width="4"/>
            </svg>`;
        }

        function createTigerSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <ellipse cx="40" cy="45" rx="28" ry="26" fill="#FFA500"/>
                <ellipse cx="40" cy="45" rx="20" ry="18" fill="#FFD280"/>
                <polygon points="18,30 12,10 28,25" fill="#FFA500"/>
                <polygon points="62,30 68,10 52,25" fill="#FFA500"/>
                <polygon points="20,28 16,15 26,23" fill="#FFD280"/>
                <polygon points="60,28 64,15 54,23" fill="#FFD280"/>
                <circle cx="32" cy="40" r="5" fill="#1A1A1A"/>
                <circle cx="48" cy="40" r="5" fill="#1A1A1A"/>
                <ellipse cx="40" cy="50" rx="4" ry="3" fill="#FF6B6B"/>
                <path d="M36 55 L40 58 L44 55" stroke="#1A1A1A" stroke-width="1.5" fill="none"/>
                <path d="M28 35 Q32 32 36 35" stroke="#1A1A1A" stroke-width="3" fill="none"/>
                <path d="M44 35 Q48 32 52 35" stroke="#1A1A1A" stroke-width="3" fill="none"/>
                <path d="M38 38 L36 30" stroke="#1A1A1A" stroke-width="2"/>
                <path d="M42 38 L44 30" stroke="#1A1A1A" stroke-width="2"/>
            </svg>`;
        }

        function createPhoenixSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs><linearGradient id="phoenixGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#FF6B00"/><stop offset="50%" style="stop-color:#FF3333"/><stop offset="100%" style="stop-color:#FFD700"/></linearGradient></defs>
                <path d="M40 70 Q25 55 30 40 Q32 30 40 25 Q48 30 50 40 Q55 55 40 70" fill="url(#phoenixGrad)"/>
                <path d="M30 30 Q20 15 35 20 Q40 22 40 25" fill="#FF6B00"/>
                <path d="M50 30 Q60 15 45 20 Q40 22 40 25" fill="#FF6B00"/>
                <path d="M40 25 Q38 15 42 10 Q44 15 40 25" fill="#FFD700"/>
                <circle cx="36" cy="35" r="4" fill="#1A1A1A"/>
                <circle cx="44" cy="35" r="4" fill="#1A1A1A"/>
                <path d="M38 42 L40 46 L42 42" fill="#FFD700"/>
                <path d="M20 50 Q10 45 15 60 Q18 70 25 65" stroke="url(#phoenixGrad)" stroke-width="4" fill="none"/>
                <path d="M60 50 Q70 45 65 60 Q62 70 55 65" stroke="url(#phoenixGrad)" stroke-width="4" fill="none"/>
            </svg>`;
        }

        function createTurtleSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <ellipse cx="40" cy="50" rx="28" ry="20" fill="#228B22"/>
                <ellipse cx="40" cy="50" rx="22" ry="15" fill="#32CD32"/>
                <circle cx="40" cy="50" r="8" fill="#228B22"/>
                                <path d="M32 42 L28 38 L24 42" stroke="#228B22" stroke-width="4" fill="none"/>
                <path d="M48 42 L52 38 L56 42" stroke="#228B22" stroke-width="4" fill="none"/>
                <ellipse cx="40" cy="28" rx="12" ry="10" fill="#32CD32"/>
                <circle cx="36" cy="26" r="3" fill="#1A1A1A"/>
                <circle cx="44" cy="26" r="3" fill="#1A1A1A"/>
                <ellipse cx="25" cy="55" rx="8" ry="6" fill="#32CD32"/>
                <ellipse cx="55" cy="55" rx="8" ry="6" fill="#32CD32"/>
                <ellipse cx="25" cy="65" rx="6" ry="5" fill="#32CD32"/>
                <ellipse cx="55" cy="65" rx="6" ry="5" fill="#32CD32"/>
                <path d="M40 68 Q35 75 40 78 Q45 75 40 68" fill="#32CD32"/>
            </svg>`;
        }

        function createChineseCoinSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs><linearGradient id="coinGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#FFE55C"/><stop offset="100%" style="stop-color:#B8860B"/></linearGradient></defs>
                <circle cx="40" cy="40" r="32" fill="url(#coinGrad)" stroke="#8B7500" stroke-width="3"/>
                <rect x="30" y="30" width="20" height="20" fill="#0A0A0F" stroke="#8B7500" stroke-width="2"/>
                <circle cx="40" cy="40" r="28" fill="none" stroke="#DAA520" stroke-width="2"/>
            </svg>`;
        }

        function createLanternSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <rect x="32" y="5" width="16" height="8" rx="2" fill="#FFD700"/>
                <line x1="40" y1="13" x2="40" y2="18" stroke="#8B4513" stroke-width="2"/>
                <ellipse cx="40" cy="22" rx="18" ry="6" fill="#FF3333"/>
                <ellipse cx="40" cy="55" rx="18" ry="6" fill="#FF3333"/>
                <path d="M22 22 Q18 38 22 55" stroke="#FF3333" stroke-width="4" fill="none"/>
                <path d="M58 22 Q62 38 58 55" stroke="#FF3333" stroke-width="4" fill="none"/>
                <rect x="22" y="22" width="36" height="33" fill="#FF3333"/>
                <text x="40" y="45" font-family="Arial" font-size="16" fill="#FFD700" text-anchor="middle" font-weight="bold">Á¶è</text>
                <path d="M35 55 Q33 65 35 72" stroke="#FFD700" stroke-width="2" fill="none"/>
                <path d="M40 55 Q40 68 40 75" stroke="#FFD700" stroke-width="2" fill="none"/>
                <path d="M45 55 Q47 65 45 72" stroke="#FFD700" stroke-width="2" fill="none"/>
            </svg>`;
        }

        // Aztec theme
        function createAztecSunSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs><linearGradient id="aztecSunGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#FFD700"/><stop offset="100%" style="stop-color:#FF8C00"/></linearGradient></defs>
                <circle cx="40" cy="40" r="18" fill="url(#aztecSunGrad)"/>
                <circle cx="40" cy="40" r="12" fill="#FF6B00"/>
                <circle cx="36" cy="38" r="3" fill="#1A1A1A"/>
                <circle cx="44" cy="38" r="3" fill="#1A1A1A"/>
                <path d="M36 46 Q40 50 44 46" stroke="#1A1A1A" stroke-width="2" fill="none"/>
                ${[0,30,60,90,120,150,180,210,240,270,300,330].map(angle => {
                    const rad = angle * Math.PI / 180;
                    const x1 = 40 + 20 * Math.cos(rad);
                    const y1 = 40 + 20 * Math.sin(rad);
                    const x2 = 40 + 35 * Math.cos(rad);
                    const y2 = 40 + 35 * Math.sin(rad);
                    return `<line x1="${x1}" y1="${y1}" x2="${x2}" y2="${y2}" stroke="url(#aztecSunGrad)" stroke-width="4"/>`;
                }).join('')}
            </svg>`;
        }

        function createAztecMaskSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <path d="M20 25 Q20 10 40 10 Q60 10 60 25 L60 55 Q60 70 40 70 Q20 70 20 55 Z" fill="#2E8B57"/>
                <rect x="28" y="30" width="10" height="12" rx="2" fill="#FFD700"/>
                <rect x="42" y="30" width="10" height="12" rx="2" fill="#FFD700"/>
                <rect x="30" y="32" width="6" height="8" fill="#1A1A1A"/>
                <rect x="44" y="32" width="6" height="8" fill="#1A1A1A"/>
                <rect x="35" y="45" width="10" height="6" fill="#8B4513"/>
                <path d="M30 55 L40 62 L50 55" stroke="#FF3333" stroke-width="3" fill="none"/>
                <path d="M20 25 L15 20 L20 15" stroke="#FFD700" stroke-width="2" fill="none"/>
                <path d="M60 25 L65 20 L60 15" stroke="#FFD700" stroke-width="2" fill="none"/>
            </svg>`;
        }

        function createPyramidSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs><linearGradient id="pyramidGrad" x1="0%" y1="100%" x2="100%" y2="0%"><stop offset="0%" style="stop-color:#DAA520"/><stop offset="100%" style="stop-color:#FFD700"/></linearGradient></defs>
                <polygon points="40,10 75,70 5,70" fill="url(#pyramidGrad)" stroke="#8B7500" stroke-width="2"/>
                <polygon points="40,10 40,70 5,70" fill="#B8860B"/>
                <rect x="32" y="50" width="16" height="20" fill="#1A1A1A"/>
                <line x1="5" y1="70" x2="75" y2="70" stroke="#8B7500" stroke-width="2"/>
                <line x1="20" y1="50" x2="60" y2="50" stroke="#8B7500" stroke-width="1"/>
                <line x1="28" y1="35" x2="52" y2="35" stroke="#8B7500" stroke-width="1"/>
            </svg>`;
        }

        function createEagleSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <path d="M40 20 Q30 25 25 35 Q20 50 30 60 L40 55 L50 60 Q60 50 55 35 Q50 25 40 20" fill="#8B4513"/>
                <path d="M25 35 Q10 30 5 45 Q8 55 20 50" fill="#8B4513"/>
                <path d="M55 35 Q70 30 75 45 Q72 55 60 50" fill="#8B4513"/>
                <circle cx="40" cy="32" r="10" fill="#FFD700"/>
                <circle cx="37" cy="30" r="3" fill="#1A1A1A"/>
                <circle cx="43" cy="30" r="3" fill="#1A1A1A"/>
                <path d="M36 38 L40 45 L44 38" fill="#FF6B00"/>
                <path d="M35 60 L32 75 L36 72 L40 78 L44 72 L48 75 L45 60" fill="#8B4513"/>
            </svg>`;
        }

        function createSnakeSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs><linearGradient id="snakeGrad" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" style="stop-color:#228B22"/><stop offset="100%" style="stop-color:#32CD32"/></linearGradient></defs>
                <path d="M15 50 Q15 30 30 30 Q45 30 45 45 Q45 60 60 60 Q75 60 75 45" stroke="url(#snakeGrad)" stroke-width="10" fill="none" stroke-linecap="round"/>
                <circle cx="15" cy="50" r="10" fill="#32CD32"/>
                <circle cx="11" cy="48" r="3" fill="#FFD700"/>
                <circle cx="19" cy="48" r="3" fill="#FFD700"/>
                <circle cx="11" cy="48" r="1.5" fill="#1A1A1A"/>
                <circle cx="19" cy="48" r="1.5" fill="#1A1A1A"/>
                <path d="M10 56 L15 62 L20 56" stroke="#FF3333" stroke-width="2" fill="none"/>
            </svg>`;
        }

        function createAztecGoldSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs><linearGradient id="aztecGoldGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#FFE55C"/><stop offset="50%" style="stop-color:#FFD700"/><stop offset="100%" style="stop-color:#B8860B"/></linearGradient></defs>
                <ellipse cx="40" cy="60" rx="30" ry="12" fill="url(#aztecGoldGrad)"/>
                <ellipse cx="40" cy="50" rx="25" ry="10" fill="url(#aztecGoldGrad)"/>
                <ellipse cx="40" cy="40" rx="20" ry="8" fill="url(#aztecGoldGrad)"/>
                <ellipse cx="40" cy="32" rx="14" ry="6" fill="url(#aztecGoldGrad)"/>
                <circle cx="40" cy="22" r="8" fill="url(#aztecGoldGrad)"/>
                <circle cx="40" cy="22" r="4" fill="#8B7500"/>
            </svg>`;
        }

        // Candy2 theme
        function createRainbowCandySVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs><linearGradient id="rainbowGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#FF3333"/><stop offset="20%" style="stop-color:#FF9933"/><stop offset="40%" style="stop-color:#FFFF33"/><stop offset="60%" style="stop-color:#33FF33"/><stop offset="80%" style="stop-color:#3399FF"/><stop offset="100%" style="stop-color:#9933FF"/></linearGradient></defs>
                <circle cx="40" cy="40" r="30" fill="url(#rainbowGrad)" stroke="#FFFFFF" stroke-width="3"/>
                <circle cx="40" cy="40" r="20" fill="#FFFFFF" opacity="0.3"/>
                <circle cx="32" cy="32" r="8" fill="#FFFFFF" opacity="0.5"/>
            </svg>`;
        }

        function createStarCandySVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs><linearGradient id="starCandyGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#FFD700"/><stop offset="100%" style="stop-color:#FFA500"/></linearGradient></defs>
                <polygon points="40,8 47,28 68,28 51,42 58,62 40,50 22,62 29,42 12,28 33,28" fill="url(#starCandyGrad)" stroke="#FF8C00" stroke-width="2"/>
                <polygon points="40,18 44,28 55,28 46,35 50,45 40,38 30,45 34,35 25,28 36,28" fill="#FFFF99" opacity="0.5"/>
            </svg>`;
        }

        function createJellybeanSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs><linearGradient id="jellyGrad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#FF69B4"/><stop offset="100%" style="stop-color:#FF1493"/></linearGradient></defs>
                <ellipse cx="40" cy="40" rx="30" ry="18" fill="url(#jellyGrad)" transform="rotate(-20 40 40)"/>
                <ellipse cx="30" cy="35" rx="10" ry="6" fill="#FFB6C1" opacity="0.5" transform="rotate(-20 30 35)"/>
            </svg>`;
        }

        function createCupcakeSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <path d="M20 45 L25 70 L55 70 L60 45 Z" fill="#DEB887" stroke="#8B4513" stroke-width="2"/>
                <line x1="25" y1="50" x2="28" y2="68" stroke="#8B4513" stroke-width="1"/>
                <line x1="35" y1="47" x2="36" y2="68" stroke="#8B4513" stroke-width="1"/>
                <line x1="45" y1="47" x2="44" y2="68" stroke="#8B4513" stroke-width="1"/>
                <line x1="55" y1="50" x2="52" y2="68" stroke="#8B4513" stroke-width="1"/>
                <ellipse cx="40" cy="35" rx="25" ry="15" fill="#FF69B4"/>
                <circle cx="30" cy="32" r="8" fill="#FFB6C1"/>
                <circle cx="45" cy="28" r="10" fill="#FF1493"/>
                <circle cx="55" cy="35" r="7" fill="#FFB6C1"/>
                <circle cx="40" cy="20" r="5" fill="#FF3333"/>
            </svg>`;
        }

        function createDonutSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs><linearGradient id="donutGrad" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#FF69B4"/><stop offset="100%" style="stop-color:#FF1493"/></linearGradient></defs>
                <circle cx="40" cy="40" r="28" fill="#DEB887"/>
                <circle cx="40" cy="40" r="10" fill="#0A0A0F"/>
                <ellipse cx="40" cy="35" rx="26" ry="22" fill="url(#donutGrad)"/>
                <circle cx="40" cy="35" r="9" fill="#0A0A0F"/>
                <circle cx="30" cy="28" r="3" fill="#FFFF00"/>
                <circle cx="45" cy="25" r="3" fill="#00FF00"/>
                <circle cx="55" cy="35" r="3" fill="#FF0000"/>
                <circle cx="50" cy="45" r="3" fill="#00FFFF"/>
                <circle cx="32" cy="42" r="3" fill="#FF00FF"/>
            </svg>`;
        }

        function createIceCreamSVG() {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <polygon points="40,75 22,35 58,35" fill="#DEB887" stroke="#8B4513" stroke-width="2"/>
                <line x1="28" y1="45" x2="40" y2="70" stroke="#8B4513" stroke-width="1"/>
                <line x1="52" y1="45" x2="40" y2="70" stroke="#8B4513" stroke-width="1"/>
                <circle cx="30" cy="28" r="14" fill="#FFB6C1"/>
                <circle cx="50" cy="28" r="14" fill="#98FB98"/>
                <circle cx="40" cy="15" r="12" fill="#87CEEB"/>
                <circle cx="40" cy="8" r="4" fill="#FF3333"/>
            </svg>`;
        }

        function createSimpleCandySVG(color) {
            return `<svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                <defs><radialGradient id="candy${color.replace('#','')}"><stop offset="0%" style="stop-color:${adjustColor(color, 40)}"/><stop offset="100%" style="stop-color:${color}"/></radialGradient></defs>
                <circle cx="40" cy="40" r="25" fill="url(#candy${color.replace('#','')})"/>
                <circle cx="32" cy="32" r="8" fill="#FFFFFF" opacity="0.4"/>
            </svg>`;
        }

        // Helper function for color adjustment
        function adjustColor(color, amount) {
            const hex = color.replace('#', '');
            const r = Math.max(0, Math.min(255, parseInt(hex.substr(0, 2), 16) + amount));
            const g = Math.max(0, Math.min(255, parseInt(hex.substr(2, 2), 16) + amount));
            const b = Math.max(0, Math.min(255, parseInt(hex.substr(4, 2), 16) + amount));
            return `#${r.toString(16).padStart(2, '0')}${g.toString(16).padStart(2, '0')}${b.toString(16).padStart(2, '0')}`;
        }

        // ============================================
        // GAME STATE
        // ============================================
        let state = {
            isLoggedIn: false,
            currentUser: null,
            users: {},
            currentGame: null,
            isSpinning: false,
            isTurbo: false,
            isAutoSpin: false,
            autoSpinCount: 0,
            currentBet: 100,
            lastWin: 0,
            consecutiveWins: 0,
            cheatPanel: {
                enabled: false,
                winRate: 30,
                multiplierOverride: 1,
                forceResult: null
            },
            settings: {
                sound: true,
                turboDefault: false
            },
            jackpotAmount: CONFIG.JACKPOT_BASE,
            hasSeenBonus: false
        };

        // ============================================
        // AUDIO SYSTEM
        // ============================================
        const AudioSystem = {
            context: null,
            
            init() {
                try {
                    this.context = new (window.AudioContext || window.webkitAudioContext)();
                } catch (e) {
                    console.log('Web Audio API not supported');
                }
            },
            
            play(type) {
                if (!state.settings.sound || !this.context) return;
                
                try {
                    const oscillator = this.context.createOscillator();
                    const gainNode = this.context.createGain();
                    oscillator.connect(gainNode);
                    gainNode.connect(this.context.destination);
                    
                    switch(type) {
                        case 'spin':
                            oscillator.frequency.value = 200;
                            gainNode.gain.setValueAtTime(0.1, this.context.currentTime);
                            gainNode.gain.exponentialRampToValueAtTime(0.01, this.context.currentTime + 0.1);
                            oscillator.start();
                            oscillator.stop(this.context.currentTime + 0.1);
                            break;
                        case 'stop':
                            oscillator.frequency.value = 400;
                            gainNode.gain.setValueAtTime(0.1, this.context.currentTime);
                            gainNode.gain.exponentialRampToValueAtTime(0.01, this.context.currentTime + 0.05);
                            oscillator.start();
                            oscillator.stop(this.context.currentTime + 0.05);
                            break;
                        case 'win':
                            this.playWinSound();
                            break;
                        case 'bigwin':
                            this.playBigWinSound();
                            break;
                        case 'jackpot':
                            this.playJackpotSound();
                            break;
                    }
                } catch (e) {}
            },
            
            playWinSound() {
                const notes = [523, 659, 784];
                notes.forEach((freq, i) => {
                    setTimeout(() => {
                        const osc = this.context.createOscillator();
                        const gain = this.context.createGain();
                        osc.connect(gain);
                        gain.connect(this.context.destination);
                        osc.frequency.value = freq;
                        gain.gain.setValueAtTime(0.1, this.context.currentTime);
                        gain.gain.exponentialRampToValueAtTime(0.01, this.context.currentTime + 0.2);
                        osc.start();
                        osc.stop(this.context.currentTime + 0.2);
                    }, i * 100);
                });
            },
            
            playBigWinSound() {
                const notes = [392, 494, 588, 784, 988];
                notes.forEach((freq, i) => {
                    setTimeout(() => {
                        const osc = this.context.createOscillator();
                        const gain = this.context.createGain();
                        osc.connect(gain);
                        gain.connect(this.context.destination);
                        osc.frequency.value = freq;
                        gain.gain.setValueAtTime(0.15, this.context.currentTime);
                        gain.gain.exponentialRampToValueAtTime(0.01, this.context.currentTime + 0.3);
                        osc.start();
                        osc.stop(this.context.currentTime + 0.3);
                    }, i * 150);
                });
            },
            
            playJackpotSound() {
                const notes = [262, 330, 392, 523, 659, 784, 1047];
                notes.forEach((freq, i) => {
                    setTimeout(() => {
                        const osc = this.context.createOscillator();
                        const gain = this.context.createGain();
                        osc.connect(gain);
                        gain.connect(this.context.destination);
                        osc.frequency.value = freq;
                        osc.type = 'triangle';
                        gain.gain.setValueAtTime(0.2, this.context.currentTime);
                        gain.gain.exponentialRampToValueAtTime(0.01, this.context.currentTime + 0.5);
                        osc.start();
                        osc.stop(this.context.currentTime + 0.5);
                    }, i * 200);
                });
            }
        };

        // ============================================
        // UTILITY FUNCTIONS
        // ============================================
        function formatNumber(num) {
            return new Intl.NumberFormat('id-ID').format(num);
        }

        function formatCurrency(num) {
            return 'Rp ' + formatNumber(num);
        }

        function randomBetween(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function weightedRandom(items) {
            const totalWeight = items.reduce((sum, item) => sum + item.weight, 0);
            let random = Math.random() * totalWeight;
            
            for (const item of items) {
                random -= item.weight;
                if (random <= 0) return item;
            }
            return items[items.length - 1];
        }

        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.className = `toast ${type} show`;
            setTimeout(() => toast.classList.remove('show'), 3000);
        }

        function saveState() {
            localStorage.setItem('titanOlympus', JSON.stringify({
                users: state.users,
                settings: state.settings,
                hasSeenBonus: state.hasSeenBonus,
                currentUser: state.currentUser
            }));
        }

        function loadState() {
            const saved = localStorage.getItem('titanOlympus');
            if (saved) {
                const data = JSON.parse(saved);
                state.users = data.users || {};
                state.settings = data.settings || state.settings;
                state.hasSeenBonus = data.hasSeenBonus || false;
                
                if (data.currentUser && state.users[data.currentUser]) {
                    state.currentUser = data.currentUser;
                    state.isLoggedIn = true;
                }
            }
        }

        // ============================================
        // USER MANAGEMENT
        // ============================================
        function createUser(username, email, password) {
            const user = {
                username,
                email,
                password,
                balance: CONFIG.INITIAL_BONUS,
                xp: 0,
                level: 1,
                tier: 'bronze',
                stats: {
                    totalSpins: 0,
                    totalWins: 0,
                    totalWon: 0,
                    biggestWin: 0,
                    turboSpins: 0,
                    autoSpins: 0
                },
                achievements: {},
                gamesPlayed: [],
                spinHistory: [],
                transactions: [
                    { type: 'bonus', amount: CONFIG.INITIAL_BONUS, date: Date.now(), desc: 'Welcome Bonus' }
                ],
                createdAt: Date.now()
            };
            
            state.users[username] = user;
            saveState();
            return user;
        }

        function login(usernameOrEmail, password) {
            const user = Object.values(state.users).find(u => 
                (u.username === usernameOrEmail || u.email === usernameOrEmail) && u.password === password
            );
            
            if (user) {
                state.currentUser = user.username;
                state.isLoggedIn = true;
                saveState();
                updateUI();
                return true;
            }
            return false;
        }

        function logout() {
            state.currentUser = null;
            state.isLoggedIn = false;
            saveState();
            updateUI();
            closeMenu();
        }

        function getCurrentUser() {
            return state.isLoggedIn ? state.users[state.currentUser] : null;
        }

        function updateUserBalance(amount) {
            const user = getCurrentUser();
            if (user) {
                user.balance += amount;
                saveState();
                updateBalanceDisplay();
            }
        }

        function addXP(amount) {
            const user = getCurrentUser();
            if (!user) return;
            
            user.xp += amount;
            
            // Level up calculation
            const xpPerLevel = 500;
            const newLevel = Math.floor(user.xp / xpPerLevel) + 1;
            if (newLevel > user.level) {
                user.level = newLevel;
                showToast(`üéâ Level Up! Level ${newLevel}`, 'success');
            }
            
            // Tier update
            const tiers = ['bronze', 'silver', 'gold', 'platinum', 'diamond'];
            for (let i = tiers.length - 1; i >= 0; i--) {
                if (user.xp >= TIER_CONFIG[tiers[i]].minXp) {
                    if (user.tier !== tiers[i]) {
                        user.tier = tiers[i];
                        showToast(`üèÜ New Tier: ${TIER_CONFIG[tiers[i]].name}!`, 'success');
                    }
                    break;
                }
            }
            
            saveState();
            updateTierDisplay();
        }

        function checkAchievement(id) {
            const user = getCurrentUser();
            if (!user || user.achievements[id]) return;
            
            let unlocked = false;
            
            switch(id) {
                case 'first_spin':
                    unlocked = user.stats.totalSpins >= 1;
                    break;
                case 'hot_streak':
                    unlocked = state.consecutiveWins >= 5;
                    break;
                case 'big_winner':
                    unlocked = user.stats.biggestWin >= 100000;
                    break;
                case 'jackpot_hunter':
                    unlocked = user.achievements.jackpot_hit;
                    break;
                case 'game_explorer':
                    unlocked = user.gamesPlayed.length >= 8;
                    break;
                case 'millionaire':
                    unlocked = user.balance >= 1000000;
                    break;
                case 'speed_demon':
                    unlocked = user.stats.turboSpins >= 100;
                    break;
                case 'auto_pilot':
                    unlocked = user.stats.autoSpins >= 50;
                    break;
            }
            
            if (unlocked) {
                user.achievements[id] = Date.now();
                saveState();
                const achievement = ACHIEVEMENTS.find(a => a.id === id);
                showToast(`üèÖ Achievement: ${achievement.name}!`, 'success');
                renderAchievements();
            }
        }

        // ============================================
        // UI UPDATES
        // ============================================
        function updateUI() {
            const user = getCurrentUser();
            
            // Header
            if (user) {
                document.getElementById('balanceDisplay').style.display = 'flex';
                document.getElementById('depositBtn').style.display = 'block';
                document.getElementById('loginBtn').style.display = 'none';
                updateBalanceDisplay();
                
                // Menu
                document.getElementById('menuProfile').style.display = 'flex';
                document.getElementById('menuDeposit').style.display = 'flex';
                document.getElementById('menuWithdraw').style.display = 'flex';
                document.getElementById('menuHistory').style.display = 'flex';
                document.getElementById('menuLogoutDivider').style.display = 'block';
                document.getElementById('menuLogout').style.display = 'flex';
                
                document.getElementById('menuAvatar').textContent = user.username.charAt(0).toUpperCase();
                document.getElementById('menuUsername').textContent = user.username;
                document.getElementById('menuTier').textContent = TIER_CONFIG[user.tier].name;
                document.getElementById('menuTier').style.color = TIER_CONFIG[user.tier].color;
                
                // Stats section
                document.getElementById('userStatsSection').style.display = 'block';
                updateStats();
                updateTierDisplay();
                renderAchievements();
            } else {
                document.getElementById('balanceDisplay').style.display = 'none';
                document.getElementById('depositBtn').style.display = 'none';
                document.getElementById('loginBtn').style.display = 'block';
                
                document.getElementById('menuProfile').style.display = 'none';
                document.getElementById('menuDeposit').style.display = 'none';
                document.getElementById('menuWithdraw').style.display = 'none';
                document.getElementById('menuHistory').style.display = 'none';
                document.getElementById('menuLogoutDivider').style.display = 'none';
                document.getElementById('menuLogout').style.display = 'none';
                
                document.getElementById('menuAvatar').textContent = '?';
                document.getElementById('menuUsername').textContent = 'Guest';
                document.getElementById('menuTier').textContent = 'Login to play';
                document.getElementById('menuTier').style.color = '#888';
                
                document.getElementById('userStatsSection').style.display = 'none';
            }
        }

        function updateBalanceDisplay() {
            const user = getCurrentUser();
            if (user) {
                document.getElementById('headerBalance').textContent = formatNumber(user.balance);
                document.getElementById('slotBalance').textContent = formatNumber(user.balance);
            }
        }

        function updateStats() {
            const user = getCurrentUser();
            if (!user) return;
            
            document.getElementById('statSpins').textContent = formatNumber(user.stats.totalSpins);
            document.getElementById('statWinRate').textContent = 
                user.stats.totalSpins > 0 
                    ? Math.round((user.stats.totalWins / user.stats.totalSpins) * 100) + '%' 
                    : '0%';
            document.getElementById('statTotalWon').textContent = formatNumber(user.stats.totalWon);
            document.getElementById('statBiggest').textContent = formatNumber(user.stats.biggestWin);
        }

        function updateTierDisplay() {
            const user = getCurrentUser();
            if (!user) return;
            
            const tier = TIER_CONFIG[user.tier];
            const tiers = ['bronze', 'silver', 'gold', 'platinum', 'diamond'];
            const currentIndex = tiers.indexOf(user.tier);
            const nextTier = currentIndex < tiers.length - 1 ? TIER_CONFIG[tiers[currentIndex + 1]] : null;
            
            const progress = nextTier 
                ? ((user.xp - tier.minXp) / (nextTier.minXp - tier.minXp)) * 100 
                : 100;
            
            // Main tier card
            document.getElementById('tierIcon').textContent = tier.icon;
            document.getElementById('tierName').textContent = tier.name;
            document.getElementById('tierName').className = `tier-name ${user.tier}`;
            document.getElementById('tierLevel').textContent = `Level ${user.level}`;
            document.getElementById('tierProgress').style.width = `${Math.min(100, progress)}%`;
            document.getElementById('tierXp').textContent = nextTier 
                ? `${formatNumber(user.xp)} / ${formatNumber(nextTier.minXp)} XP`
                : `${formatNumber(user.xp)} XP (MAX)`;
        }

        function renderAchievements() {
            const user = getCurrentUser();
            const grid = document.getElementById('achievementsGrid');
            
            grid.innerHTML = ACHIEVEMENTS.map(ach => {
                const unlocked = user && user.achievements[ach.id];
                return `
                    <div class="achievement ${unlocked ? 'unlocked' : 'locked'}" title="${ach.desc}">
                        <div class="achievement-icon">${ach.icon}</div>
                        <div class="achievement-name">${ach.name}</div>
                    </div>
                `;
            }).join('');
        }

        // ============================================
        // GAMES GRID
        // ============================================
        function renderGamesGrid() {
            const grid = document.getElementById('gamesGrid');
            
            grid.innerHTML = GAMES.map(game => `
                <div class="game-card" data-game="${game.id}">
                    <div class="game-thumb" style="background: linear-gradient(135deg, ${getThemeColor(game.theme)}, #15151F);">
                        <span class="game-provider">${game.provider}</span>
                        <span class="game-rtp">${game.rtp}%</span>
                        ${game.hot ? '<span class="game-hot">HOT</span>' : ''}
                        <span style="font-size: 3rem;">${game.icon}</span>
                    </div>
                    <div class="game-info">
                        <div class="game-name">${game.name}</div>
                        <div class="game-tags">
                            <span class="game-tag">${game.grid.cols}x${game.grid.rows}</span>
                            <span class="game-tag">${game.volatility}</span>
                            <span class="game-tag">x${game.maxWin}</span>
                        </div>
                    </div>
                </div>
            `).join('');
            
            // Add click handlers
            document.querySelectorAll('.game-card').forEach(card => {
                card.addEventListener('click', () => {
                    if (!state.isLoggedIn) {
                        showModal('loginModal');
                        return;
                    }
                    const gameId = card.dataset.game;
                    openGame(gameId);
                });
            });
        }

        function getThemeColor(theme) {
            const colors = {
                zeus: '#FFD700',
                candy: '#FF69B4',
                mahjong: '#4ECDC4',
                neko: '#FF6B6B',
                classic: '#A855F7',
                dragon: '#FF3333',
                aztec: '#2E8B57',
                candy2: '#FF9933'
            };
            return colors[theme] || '#FFD700';
        }

        // ============================================
        // RECENT WINNERS
        // ============================================
        function generateFakeWinners() {
            const names = ['Budi***', 'Andi***', 'Dewi***', 'Siti***', 'Joko***', 'Rina***', 'Ahmad***', 'Lisa***', 'Hendra***', 'Maya***'];
            const winners = [];
            
            for (let i = 0; i < 10; i++) {
                winners.push({
                    name: names[randomBetween(0, names.length - 1)],
                    amount: randomBetween(50000, 5000000),
                    game: GAMES[randomBetween(0, GAMES.length - 1)].name
                });
            }
            
            return winners;
        }

        function renderWinners() {
            const scroll = document.getElementById('winnersScroll');
            const winners = generateFakeWinners();
            
            scroll.innerHTML = winners.map(w => `
                <div class="winner-card">
                    <div class="winner-name">${w.name}</div>
                    <div class="winner-amount">+${formatCurrency(w.amount)}</div>
                    <div class="winner-game">${w.game}</div>
                </div>
            `).join('');
        }

        // ============================================
        // SLOT MACHINE
        // ============================================
        function openGame(gameId) {
            const game = GAMES.find(g => g.id === gameId);
            if (!game) return;
            
            state.currentGame = game;
            
            // Update modal header
            document.getElementById('gameModalIcon').textContent = game.icon;
            document.getElementById('gameModalName').textContent = game.name;
            document.getElementById('gameModalProvider').textContent = game.provider;
            
            // Update info bar
            document.getElementById('slotRtp').textContent = `${game.rtp}%`;
            document.getElementById('slotVolatility').textContent = game.volatility;
            document.getElementById('slotMaxWin').textContent = `x${game.maxWin}`;
            
            // Update balance display
            updateBalanceDisplay();
            document.getElementById('slotWin').textContent = '0';
            
            // Build reels
            buildReels(game);
            
            // Track game played
            const user = getCurrentUser();
            if (user && !user.gamesPlayed.includes(gameId)) {
                user.gamesPlayed.push(gameId);
                saveState();
                checkAchievement('game_explorer');
            }
            
            showModal('gameModal');
        }

        function buildReels(game) {
            const container = document.getElementById('slotReels');
            const { cols, rows } = game.grid;
            const symbols = SYMBOLS[game.theme] || SYMBOLS.zeus;
            
            // Calculate symbol size based on grid
            let symbolSize;
            if (cols <= 3) {
                symbolSize = 70;
            } else if (cols <= 5) {
                symbolSize = 50;
            } else {
                symbolSize = 40;
            }
            
            container.innerHTML = '';
            container.style.gap = `${Math.max(2, 6 - cols)}px`;
            
            for (let c = 0; c < cols; c++) {
                const reelCol = document.createElement('div');
                reelCol.className = 'slot-reel-col';
                reelCol.style.width = `${symbolSize}px`;
                reelCol.style.height = `${symbolSize * rows}px`;
                
                const reelInner = document.createElement('div');
                reelInner.className = 'slot-reel-inner';
                reelInner.id = `reel-${c}`;
                
                // Add extra symbols for spinning effect (symbols above and below visible area)
                const totalSymbols = rows + 20; // Extra for smooth animation
                for (let r = 0; r < totalSymbols; r++) {
                    const symbol = document.createElement('div');
                    symbol.className = 'slot-symbol';
                    symbol.style.width = `${symbolSize}px`;
                    symbol.style.height = `${symbolSize}px`;
                    symbol.innerHTML = weightedRandom(symbols).svg;
                    symbol.dataset.row = r;
                    reelInner.appendChild(symbol);
                }
                
                reelCol.appendChild(reelInner);
                container.appendChild(reelCol);
            }
        }

        function spin() {
            if (state.isSpinning || !state.currentGame) return;
            
            const user = getCurrentUser();
            if (!user) {
                showModal('loginModal');
                return;
            }
            
            if (user.balance < state.currentBet) {
                showToast('Saldo tidak cukup!', 'error');
                state.isAutoSpin = false;
                updateAutoSpinButton();
                return;
            }
            
            state.isSpinning = true;
            state.lastWin = 0;
            document.getElementById('slotWin').textContent = '0';
            document.getElementById('spinBtn').classList.add('spinning');
            document.getElementById('spinBtn').disabled = true;
            
            // Deduct bet
            updateUserBalance(-state.currentBet);
            user.stats.totalSpins++;
            
            if (state.isTurbo) user.stats.turboSpins++;
            if (state.isAutoSpin) user.stats.autoSpins++;
            
            addXP(1);
            checkAchievement('first_spin');
            checkAchievement('speed_demon');
            checkAchievement('auto_pilot');
            
            AudioSystem.play('spin');
            
            const duration = state.isTurbo ? CONFIG.SPIN_DURATION_TURBO : CONFIG.SPIN_DURATION;
            const game = state.currentGame;
            const symbols = SYMBOLS[game.theme] || SYMBOLS.zeus;
            
            // Determine result
            const result = determineResult(game, symbols);
            
            // Animate reels
            animateReels(game, symbols, result, duration);
        }

        function determineResult(game, symbols) {
            const { cols, rows } = game.grid;
            const result = [];
            
            // Check if forced result from cheat panel
            if (state.cheatPanel.forceResult) {
                const forceType = state.cheatPanel.forceResult;
                state.cheatPanel.forceResult = null;
                
                let targetSymbol;
                switch(forceType) {
                    case 'jackpot':
                        targetSymbol = symbols[0]; // Highest value
                        break;
                    case 'bigwin':
                        targetSymbol = symbols[randomBetween(1, 3)]; // High-medium value
                        break;
                    case 'win':
                        targetSymbol = symbols[randomBetween(3, 6)]; // Medium value
                        break;
                }
                
                // Fill all positions with target symbol for guaranteed win
                for (let c = 0; c < cols; c++) {
                    result[c] = [];
                    for (let r = 0; r < rows; r++) {
                        result[c][r] = targetSymbol;
                    }
                }
                return result;
            }
            
            // Check win rate from cheat panel
            const shouldWin = Math.random() * 100 < state.cheatPanel.winRate;
            
            if (shouldWin && state.cheatPanel.winRate > 30) {
                // Force a winning combination
                const targetSymbol = weightedRandom(symbols.filter(s => !s.isWild));
                const winRow = Math.floor(rows / 2); // Middle row
                
                for (let c = 0; c < cols; c++) {
                    result[c] = [];
                    for (let r = 0; r < rows; r++) {
                        if (r === winRow) {
                            result[c][r] = targetSymbol;
                        } else {
                            result[c][r] = weightedRandom(symbols);
                        }
                    }
                }
            } else {
                // Normal random result
                for (let c = 0; c < cols; c++) {
                    result[c] = [];
                    for (let r = 0; r < rows; r++) {
                        result[c][r] = weightedRandom(symbols);
                    }
                }
            }
            
            return result;
        }

        function animateReels(game, symbols, result, duration) {
            const { cols, rows } = game.grid;
            const reelDelay = duration / (cols + 2);
            
            for (let c = 0; c < cols; c++) {
                const reel = document.getElementById(`reel-${c}`);
                const symbolHeight = reel.children[0].offsetHeight;
                
                // Reset position
                reel.style.transition = 'none';
                reel.style.transform = 'translateY(0)';
                
                // Force reflow
                reel.offsetHeight;
                
                // Calculate spin distance
                const spinDistance = symbolHeight * (10 + c * 2);
                
                setTimeout(() => {
                    // Start spinning animation
                    reel.style.transition = `transform ${reelDelay * (cols - c + 1)}ms cubic-bezier(0.17, 0.67, 0.12, 0.99)`;
                    reel.style.transform = `translateY(-${spinDistance}px)`;
                    
                    // When reel stops, update with final symbols
                    setTimeout(() => {
                        AudioSystem.play('stop');
                        
                        // Update visible symbols with result
                        const children = reel.children;
                        for (let r = 0; r < rows; r++) {
                            const symbolIndex = children.length - rows + r - Math.floor(spinDistance / symbolHeight) % children.length;
                            const actualIndex = ((symbolIndex % children.length) + children.length) % children.length;
                            children[actualIndex].innerHTML = result[c][r].svg;
                            children[actualIndex].dataset.symbolId = result[c][r].id;
                        }
                    }, reelDelay * (cols - c + 1));
                }, c * reelDelay);
            }
            
            // Check result after all reels stop
            setTimeout(() => {
                checkWin(game, result);
            }, duration + 100);
        }

        function checkWin(game, result) {
            const { cols, rows } = game.grid;
            const user = getCurrentUser();
            let totalWin = 0;
            let isJackpot = false;
            let winType = null;
            
            // Simple win check: horizontal lines
            for (let r = 0; r < rows; r++) {
                const symbolCounts = {};
                let wildCount = 0;
                
                for (let c = 0; c < cols; c++) {
                    const symbol = result[c][r];
                    if (symbol.isWild) {
                        wildCount++;
                    } else {
                        symbolCounts[symbol.id] = (symbolCounts[symbol.id] || 0) + 1;
                    }
                }
                
                // Check for winning combination
                for (const [symbolId, count] of Object.entries(symbolCounts)) {
                    const totalCount = count + wildCount;
                    const minMatch = cols <= 3 ? 3 : (cols <= 5 ? 3 : 4);
                    
                    if (totalCount >= minMatch) {
                        const symbol = SYMBOLS[game.theme].find(s => s.id === symbolId);
                        let multiplier = symbol.multiplier * (totalCount - minMatch + 1);
                        
                        // Apply cheat multiplier override
                        if (state.cheatPanel.multiplierOverride > 1) {
                            multiplier = state.cheatPanel.multiplierOverride;
                        }
                        
                        const lineWin = state.currentBet * multiplier;
                        totalWin += lineWin;
                        
                        // Highlight winning symbols
                        highlightWinningLine(r, cols);
                        
                        // Check for jackpot (highest symbol)
                        if (symbol.id === SYMBOLS[game.theme][0].id && totalCount >= cols - 1) {
                            isJackpot = true;
                        }
                    }
                }
            }
            
            // Cluster wins for 6x5 grids (like Gates of Olympus)
            if (cols >= 5 && rows >= 4) {
                const clusterWin = checkClusterWins(game, result);
                totalWin += clusterWin;
            }
            
            // Process win
            if (totalWin > 0) {
                state.consecutiveWins++;
                user.stats.totalWins++;
                user.stats.totalWon += totalWin;
                
                if (totalWin > user.stats.biggestWin) {
                    user.stats.biggestWin = totalWin;
                }
                
                updateUserBalance(totalWin);
                state.lastWin = totalWin;
                document.getElementById('slotWin').textContent = formatNumber(totalWin);
                
                // Determine win type
                if (isJackpot) {
                    winType = 'jackpot';
                    user.achievements.jackpot_hit = true;
                    checkAchievement('jackpot_hunter');
                } else if (totalWin >= state.currentBet * 50) {
                    winType = 'mega';
                } else if (totalWin >= state.currentBet * 15) {
                    winType = 'big';
                } else {
                    winType = 'normal';
                }
                
                // Show win overlay
                showWinOverlay(totalWin, winType);
                
                // Check achievements
                checkAchievement('hot_streak');
                checkAchievement('big_winner');
                checkAchievement('millionaire');
                
                // Add to history
                user.spinHistory.unshift({
                    game: game.name,
                    bet: state.currentBet,
                    win: totalWin,
                    date: Date.now()
                });
                if (user.spinHistory.length > 50) user.spinHistory.pop();
                
            } else {
                state.consecutiveWins = 0;
                
                // Add to history
                user.spinHistory.unshift({
                    game: game.name,
                    bet: state.currentBet,
                    win: 0,
                    date: Date.now()
                });
                if (user.spinHistory.length > 50) user.spinHistory.pop();
            }
            
            saveState();
            updateStats();
            
            // End spin
            state.isSpinning = false;
            document.getElementById('spinBtn').classList.remove('spinning');
            document.getElementById('spinBtn').disabled = false;
            
            // Auto spin
            if (state.isAutoSpin && user.balance >= state.currentBet) {
                setTimeout(() => {
                    if (state.isAutoSpin) spin();
                }, CONFIG.AUTO_SPIN_DELAY);
            } else if (state.isAutoSpin) {
                state.isAutoSpin = false;
                updateAutoSpinButton();
            }
        }

        function checkClusterWins(game, result) {
            // Simplified cluster check for demonstration
            const { cols, rows } = game.grid;
            let clusterWin = 0;
            
            const symbolCounts = {};
            for (let c = 0; c < cols; c++) {
                for (let r = 0; r < rows; r++) {
                    const symbol = result[c][r];
                    if (!symbol.isWild) {
                        symbolCounts[symbol.id] = (symbolCounts[symbol.id] || 0) + 1;
                    }
                }
            }
            
            for (const [symbolId, count] of Object.entries(symbolCounts)) {
                if (count >= 8) { // Minimum cluster size
                    const symbol = SYMBOLS[game.theme].find(s => s.id === symbolId);
                    let multiplier = symbol.multiplier * (count / 8);
                    
                    if (state.cheatPanel.multiplierOverride > 1) {
                        multiplier = state.cheatPanel.multiplierOverride;
                    }
                    
                    clusterWin += state.currentBet * multiplier;
                }
            }
            
            return clusterWin;
        }

        function highlightWinningLine(row, cols) {
            // This would highlight winning symbols - simplified for now
            // In a full implementation, you'd add the 'win' class to matching symbols
        }

        function showWinOverlay(amount, type) {
            const overlay = document.getElementById('winOverlay');
            const title = document.getElementById('winTitle');
            const amountEl = document.getElementById('winAmount');
            
            title.className = `win-title ${type}`;
            switch(type) {
                case 'jackpot':
                    title.textContent = 'üèÜ JACKPOT! üèÜ';
                    AudioSystem.play('jackpot');
                    createConfetti(100);
                    createCoinRain(30);
                    break;
                case 'mega':
                    title.textContent = 'üíé MEGA WIN! üíé';
                    AudioSystem.play('bigwin');
                    createConfetti(50);
                    createCoinRain(15);
                    break;
                case 'big':
                    title.textContent = 'üî• BIG WIN! üî•';
                    AudioSystem.play('bigwin');
                    createConfetti(30);
                    break;
                default:
                    title.textContent = '‚ú® WIN! ‚ú®';
                    AudioSystem.play('win');
                    break;
            }
            
            amountEl.textContent = formatCurrency(amount);
            overlay.classList.add('show');
            
            // Auto hide after delay or on tap
            const hideOverlay = () => {
                overlay.classList.remove('show');
                overlay.removeEventListener('click', hideOverlay);
            };
            
            overlay.addEventListener('click', hideOverlay);
            setTimeout(hideOverlay, type === 'jackpot' ? 5000 : (type === 'mega' ? 4000 : (type === 'big' ? 3000 : 2000)));
        }

        function createConfetti(count) {
            const container = document.getElementById('confettiContainer');
            const colors = ['#FFD700', '#FF3333', '#00FF88', '#00D4FF', '#A855F7', '#FF69B4'];
            
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = `${Math.random() * 100}%`;
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDuration = `${2 + Math.random() * 2}s`;
                    confetti.style.animationDelay = `${Math.random() * 0.5}s`;
                    container.appendChild(confetti);
                    
                    setTimeout(() => confetti.remove(), 4000);
                }, i * 30);
            }
        }

        function createCoinRain(count) {
            const container = document.getElementById('confettiContainer');
            
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    const coin = document.createElement('div');
                    coin.className = 'coin';
                    coin.textContent = 'ü™ô';
                    coin.style.left = `${Math.random() * 100}%`;
                    coin.style.animationDuration = `${1.5 + Math.random() * 1}s`;
                    container.appendChild(coin);
                    
                    setTimeout(() => coin.remove(), 3000);
                }, i * 100);
            }
        }

        // ============================================
        // MODALS
        // ============================================
        function showModal(id) {
            document.getElementById(id).classList.add('show');
        }

        function closeModal(id) {
            document.getElementById(id).classList.remove('show');
        }

        // ============================================
        // MENU
        // ============================================
        function openMenu() {
            document.getElementById('sideMenu').classList.add('open');
            document.getElementById('menuOverlay').classList.add('show');
        }

        function closeMenu() {
            document.getElementById('sideMenu').classList.remove('open');
            document.getElementById('menuOverlay').classList.remove('show');
        }

        // ============================================
        // CHEAT PANEL
        // ============================================
        let logoTapCount = 0;
        let logoTapTimer = null;

        function handleLogoTap() {
            logoTapCount++;
            
            if (logoTapTimer) clearTimeout(logoTapTimer);
            
            logoTapTimer = setTimeout(() => {
                logoTapCount = 0;
            }, 500);
            
            if (logoTapCount >= 3) {
                logoTapCount = 0;
                showModal('cheatPasswordModal');
            }
        }

        function toggleCheatPanel(show) {
            const panel = document.getElementById('cheatPanel');
            if (show) {
                panel.classList.add('show');
            } else {
                panel.classList.remove('show');
            }
        }

        function updateAutoSpinButton() {
            const btn = document.getElementById('autoSpinBtn');
            if (state.isAutoSpin) {
                btn.classList.add('active');
            } else {
                btn.classList.remove('active');
            }
        }

        // ============================================
        // LIVE INFO UPDATES
        // ============================================
        function updateLiveInfo() {
            // RTP fluctuation
            const rtp = 96.5 + (Math.random() - 0.5) * 0.8;
            document.getElementById('liveRtp').textContent = rtp.toFixed(1) + '%';
            
            // Online players
            const currentOnline = parseInt(document.getElementById('liveOnline').textContent.replace(/,/g, ''));
            const change = Math.floor((Math.random() - 0.5) * 200);
            const newOnline = Math.max(10000, Math.min(20000, currentOnline + change));
            document.getElementById('liveOnline').textContent = formatNumber(newOnline);
            
            // Jackpot increment
            state.jackpotAmount += Math.floor(Math.random() * 10000);
            document.getElementById('jackpotAmount').textContent = formatCurrency(state.jackpotAmount);
        }

        // ============================================
        // NAVIGATION
        // ============================================
        function switchSection(section) {
            // Hide all sections
            document.querySelectorAll('[id^="section"]').forEach(el => el.classList.add('hidden'));
            
            // Show selected section
            const sectionEl = document.getElementById(`section${section.charAt(0).toUpperCase() + section.slice(1)}`);
            if (sectionEl) sectionEl.classList.remove('hidden');
            
            // Update nav
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.toggle('active', item.dataset.section === section);
            });
        }

        // ============================================
        // HISTORY
        // ============================================
        function showHistory(tab = 'spins') {
            const user = getCurrentUser();
            if (!user) return;
            
            const list = document.getElementById('historyList');
            
            if (tab === 'spins') {
                list.innerHTML = user.spinHistory.length > 0 
                    ? user.spinHistory.map(h => `
                        <div class="history-item">
                            <div>
                                <div class="history-game">${h.game}</div>
                                <div style="font-size: 0.75rem; color: var(--gray);">Bet: ${formatNumber(h.bet)}</div>
                            </div>
                            <div class="history-result ${h.win > 0 ? 'win' : 'lose'}">
                                ${h.win > 0 ? '+' : ''}${formatNumber(h.win)}
                            </div>
                        </div>
                    `).join('')
                    : '<div style="text-align: center; color: var(--gray); padding: 20px;">No spin history yet</div>';
            } else {
                list.innerHTML = user.transactions.length > 0
                    ? user.transactions.map(t => `
                        <div class="history-item">
                            <div>
                                <div class="history-game">${t.desc}</div>
                                <div style="font-size: 0.75rem; color: var(--gray);">${new Date(t.date).toLocaleDateString()}</div>
                            </div>
                            <div class="history-result ${t.amount > 0 ? 'win' : 'lose'}">
                                ${t.amount > 0 ? '+' : ''}${formatCurrency(t.amount)}
                            </div>
                        </div>
                    `).join('')
                    : '<div style="text-align: center; color: var(--gray); padding: 20px;">No transactions yet</div>';
            }
            
            // Update tabs
            document.querySelectorAll('#historyModal .tab').forEach(t => {
                t.classList.toggle('active', t.dataset.tab === tab);
            });
        }

        // ============================================
        // PWA
        // ============================================
        let deferredPrompt = null;

        function initPWA() {
            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                deferredPrompt = e;
                setTimeout(() => {
                    document.getElementById('installPrompt').classList.add('show');
                }, 3000);
            });
            
            document.getElementById('installBtn').addEventListener('click', async () => {
                if (deferredPrompt) {
                    deferredPrompt.prompt();
                    const result = await deferredPrompt.userChoice;
                    if (result.outcome === 'accepted') {
                        showToast('App installed!', 'success');
                    }
                    deferredPrompt = null;
                    hideInstallPrompt();
                }
            });
        }

        function hideInstallPrompt() {
            document.getElementById('installPrompt').classList.remove('show');
        }

        // Register Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                // Create a simple service worker inline
                const swContent = `
                    const CACHE_NAME = 'titan-olympus-v1';
                    const urlsToCache = ['/'];
                    
                    self.addEventListener('install', event => {
                        event.waitUntil(
                            caches.open(CACHE_NAME).then(cache => cache.addAll(urlsToCache))
                        );
                    });
                    
                    self.addEventListener('fetch', event => {
                        event.respondWith(
                            caches.match(event.request).then(response => response || fetch(event.request))
                        );
                    });
                `;
                
                const blob = new Blob([swContent], { type: 'application/javascript' });
                const swUrl = URL.createObjectURL(blob);
                
                navigator.serviceWorker.register(swUrl).catch(() => {});
            });
        }

        // ============================================
        // EVENT LISTENERS
        // ============================================
        function initEventListeners() {
            // Menu
            document.getElementById('menuBtn').addEventListener('click', openMenu);
            document.getElementById('menuOverlay').addEventListener('click', closeMenu);
            
            // Logo tap for cheat panel
            document.getElementById('logoTap').addEventListener('click', handleLogoTap);
            
            // Header buttons
            document.getElementById('loginBtn').addEventListener('click', () => showModal('loginModal'));
            document.getElementById('depositBtn').addEventListener('click', () => showModal('depositModal'));
            
            // Navigation
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', () => switchSection(item.dataset.section));
            });
            
            // Login form
            document.getElementById('loginForm').addEventListener('submit', (e) => {
                e.preventDefault();
                const username = document.getElementById('loginUsername').value;
                const password = document.getElementById('loginPassword').value;
                
                if (login(username, password)) {
                    closeModal('loginModal');
                    showToast('Login successful!', 'success');
                } else {
                    document.getElementById('loginPasswordError').textContent = 'Invalid username or password';
                }
            });
            
            // Register form
            document.getElementById('registerForm').addEventListener('submit', (e) => {
                e.preventDefault();
                
                const username = document.getElementById('regUsername').value.trim();
                const email = document.getElementById('regEmail').value.trim();
                const password = document.getElementById('regPassword').value;
                const confirm = document.getElementById('regConfirmPassword').value;
                
                // Validation
                let valid = true;
                
                if (!/^[a-zA-Z0-9_]{4,16}$/.test(username)) {
                    document.getElementById('regUsernameError').textContent = 'Username must be 4-16 alphanumeric characters';
                    valid = false;
                } else if (state.users[username]) {
                    document.getElementById('regUsernameError').textContent = 'Username already exists';
                    valid = false;
                } else {
                    document.getElementById('regUsernameError').textContent = '';
                }
                
                if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                    document.getElementById('regEmailError').textContent = 'Invalid email format';
                    valid = false;
                } else {
                    document.getElementById('regEmailError').textContent = '';
                }
                
                if (password.length < 6) {
                    document.getElementById('regPasswordError').textContent = 'Password must be at least 6 characters';
                    valid = false;
                } else {
                    document.getElementById('regPasswordError').textContent = '';
                }
                
                if (password !== confirm) {
                    document.getElementById('regConfirmError').textContent = 'Passwords do not match';
                    valid = false;
                } else {
                    document.getElementById('regConfirmError').textContent = '';
                }
                
                if (valid) {
                    createUser(username, email, password);
                    login(username, password);
                    closeModal('registerModal');
                    showToast('Registration successful! Welcome bonus added!', 'success');
                }
            });
            
            // Switch between login/register
            document.getElementById('switchToRegister').addEventListener('click', (e) => {
                e.preventDefault();
                closeModal('loginModal');
                showModal('registerModal');
            });
            
            document.getElementById('switchToLogin').addEventListener('click', (e) => {
                e.preventDefault();
                closeModal('registerModal');
                showModal('loginModal');
            });
            
            // Deposit modal
            document.querySelectorAll('.payment-method').forEach(method => {
                method.addEventListener('click', () => {
                    document.querySelectorAll('.payment-method').forEach(m => m.classList.remove('selected'));
                    method.classList.add('selected');
                });
            });
            
            document.querySelectorAll('.amount-preset').forEach(preset => {
                preset.addEventListener('click', () => {
                    document.querySelectorAll('.amount-preset').forEach(p => p.classList.remove('selected'));
                    preset.classList.add('selected');
                    document.getElementById('depositAmount').value = preset.dataset.amount;
                });
            });
            
            document.getElementById('depositSubmit').addEventListener('click', () => {
                const amount = parseInt(document.getElementById('depositAmount').value);
                if (amount >= 10000) {
                    const user = getCurrentUser();
                    if (user) {
                        updateUserBalance(amount);
                        user.transactions.unshift({
                            type: 'deposit',
                            amount: amount,
                            date: Date.now(),
                            desc: 'Deposit'
                        });
                        saveState();
                        closeModal('depositModal');
                        showToast(`Deposit ${formatCurrency(amount)} successful!`, 'success');
                    }
                } else {
                    showToast('Minimum deposit Rp 10.000', 'error');
                }
            });
            
            // Bonus popup
            document.getElementById('claimBonusBtn').addEventListener('click', () => {
                closeModal('bonusPopup');
                state.hasSeenBonus = true;
                saveState();
                showModal('registerModal');
            });
            
            // Menu items
            document.getElementById('menuProfile').addEventListener('click', () => {
                closeMenu();
                const user = getCurrentUser();
                if (user) {
                    document.getElementById('profileAvatar').textContent = user.username.charAt(0).toUpperCase();
                    document.getElementById('profileUsername').textContent = user.username;
                    document.getElementById('profileEmail').textContent = user.email;
                    document.getElementById('profileTierIcon').textContent = TIER_CONFIG[user.tier].icon;
                    document.getElementById('profileTierName').textContent = TIER_CONFIG[user.tier].name;
                    document.getElementById('profileTierName').className = `tier-name ${user.tier}`;
                    document.getElementById('profileTierLevel').textContent = `Level ${user.level}`;
                    document.getElementById('profileBalance').textContent = formatNumber(user.balance);
                    document.getElementById('profileTotalSpins').textContent = formatNumber(user.stats.totalSpins);
                    showModal('profileModal');
                }
            });
            
            document.getElementById('menuDeposit').addEventListener('click', () => {
                closeMenu();
                showModal('depositModal');
            });
            
            document.getElementById('menuWithdraw').addEventListener('click', () => {
                closeMenu();
                showToast('Withdraw feature coming soon!', 'success');
            });
            
            document.getElementById('menuHistory').addEventListener('click', () => {
                closeMenu();
                showHistory('spins');
                showModal('historyModal');
            });
            
            document.getElementById('menuSettings').addEventListener('click', () => {
                closeMenu();
                document.getElementById('soundToggle').checked = state.settings.sound;
                document.getElementById('turboDefault').checked = state.settings.turboDefault;
                showModal('settingsModal');
            });
            
            document.getElementById('menuSupport').addEventListener('click', () => {
                closeMenu();
                showToast('Support: support@titanolympus.com', 'success');
            });
            
            document.getElementById('menuLogout').addEventListener('click', () => {
                logout();
                showToast('Logged out successfully', 'success');
            });
            
            // Settings
            document.getElementById('soundToggle').addEventListener('change', (e) => {
                state.settings.sound = e.target.checked;
                saveState();
            });
            
            document.getElementById('turboDefault').addEventListener('change', (e) => {
                state.settings.turboDefault = e.target.checked;
                state.isTurbo = e.target.checked;
                saveState();
            });
            
            // History tabs
            document.querySelectorAll('#historyModal .tab').forEach(tab => {
                tab.addEventListener('click', () => showHistory(tab.dataset.tab));
            });
            
            // Slot controls
            document.getElementById('spinBtn').addEventListener('click', () => {
                AudioSystem.init();
                spin();
            });
            
            document.querySelectorAll('.bet-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.bet-btn').forEach(b => b.classList.remove('selected'));
                    btn.classList.add('selected');
                    
                    if (btn.dataset.bet === 'max') {
                        const user = getCurrentUser();
                        state.currentBet = user ? Math.min(user.balance, 10000) : 100;
                    } else {
                        state.currentBet = parseInt(btn.dataset.bet);
                    }
                    document.getElementById('slotBet').textContent = formatNumber(state.currentBet);
                });
            });
            
            document.getElementById('turboBtn').addEventListener('click', () => {
                state.isTurbo = !state.isTurbo;
                document.getElementById('turboBtn').classList.toggle('active', state.isTurbo);
            });
            
            document.getElementById('autoSpinBtn').addEventListener('click', () => {
                state.isAutoSpin = !state.isAutoSpin;
                updateAutoSpinButton();
                if (state.isAutoSpin && !state.isSpinning) {
                    spin();
                }
            });
            
            // Cheat panel
            document.getElementById('cheatPasswordSubmit').addEventListener('click', () => {
                const password = document.getElementById('cheatPassword').value;
                if (password === CONFIG.CHEAT_PASSWORD) {
                    closeModal('cheatPasswordModal');
                    state.cheatPanel.enabled = true;
                    toggleCheatPanel(true);
                    document.getElementById('cheatPassword').value = '';
                    document.getElementById('cheatPasswordError').textContent = '';
                } else {
                    document.getElementById('cheatPasswordError').textContent = 'Wrong password!';
                }
            });
            
            // Cheat sliders
            document.getElementById('cheatWinRate').addEventListener('input', (e) => {
                state.cheatPanel.winRate = parseInt(e.target.value);
                document.getElementById('cheatWinRateValue').textContent = e.target.value;
            });
            
            document.getElementById('cheatMultiplier').addEventListener('input', (e) => {
                state.cheatPanel.multiplierOverride = parseInt(e.target.value);
                document.getElementById('cheatMultiplierValue').textContent = e.target.value;
            });
            
            // Force results
            document.getElementById('forceJackpot').addEventListener('click', () => {
                state.cheatPanel.forceResult = 'jackpot';
                showToast('Next spin: JACKPOT!', 'success');
                document.querySelectorAll('.cheat-btn').forEach(b => b.classList.remove('active'));
                document.getElementById('forceJackpot').classList.add('active');
                setTimeout(() => document.getElementById('forceJackpot').classList.remove('active'), 1000);
            });
            
            document.getElementById('forceBigWin').addEventListener('click', () => {
                state.cheatPanel.forceResult = 'bigwin';
                showToast('Next spin: BIG WIN!', 'success');
                document.querySelectorAll('.cheat-btn').forEach(b => b.classList.remove('active'));
                document.getElementById('forceBigWin').classList.add('active');
                setTimeout(() => document.getElementById('forceBigWin').classList.remove('active'), 1000);
            });
            
            document.getElementById('forceWin').addEventListener('click', () => {
                state.cheatPanel.forceResult = 'win';
                showToast('Next spin: WIN!', 'success');
                document.querySelectorAll('.cheat-btn').forEach(b => b.classList.remove('active'));
                document.getElementById('forceWin').classList.add('active');
                setTimeout(() => document.getElementById('forceWin').classList.remove('active'), 1000);
            });
            
            // Add balance buttons
            document.getElementById('add1m').addEventListener('click', () => {
                const user = getCurrentUser();
                if (user) {
                    updateUserBalance(1000000);
                    user.transactions.unshift({
                        type: 'cheat',
                        amount: 1000000,
                        date: Date.now(),
                        desc: 'Cheat Bonus'
                    });
                    saveState();
                    showToast('+Rp 1.000.000 added!', 'success');
                }
            });
            
            document.getElementById('add10m').addEventListener('click', () => {
                const user = getCurrentUser();
                if (user) {
                    updateUserBalance(10000000);
                    user.transactions.unshift({
                        type: 'cheat',
                        amount: 10000000,
                        date: Date.now(),
                        desc: 'Cheat Bonus'
                    });
                    saveState();
                    showToast('+Rp 10.000.000 added!', 'success');
                }
            });
            
            document.getElementById('add100m').addEventListener('click', () => {
                const user = getCurrentUser();
                if (user) {
                    updateUserBalance(100000000);
                    user.transactions.unshift({
                        type: 'cheat',
                        amount: 100000000,
                        date: Date.now(),
                        desc: 'Cheat Bonus'
                    });
                    saveState();
                    showToast('+Rp 100.000.000 added!', 'success');
                }
            });
            
            // Promo buttons
            document.querySelectorAll('.promo-card-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    if (!state.isLoggedIn) {
                        showModal('loginModal');
                    } else {
                        showToast('Promo claimed! Check your balance.', 'success');
                        updateUserBalance(50000);
                    }
                });
            });
            
            // Close modals on overlay click
            document.querySelectorAll('.modal-overlay').forEach(overlay => {
                overlay.addEventListener('click', (e) => {
                    if (e.target === overlay) {
                        overlay.classList.remove('show');
                    }
                });
            });
            
            // Win overlay click to close
            document.getElementById('winOverlay').addEventListener('click', () => {
                document.getElementById('winOverlay').classList.remove('show');
            });
        }

        // ============================================
        // INITIALIZATION
        // ============================================
        function init() {
            // Load saved state
            loadState();
            
            // Initialize audio system
            AudioSystem.init();
            
            // Initialize PWA
            initPWA();
            
            // Render games grid
            renderGamesGrid();
            
            // Render winners
            renderWinners();
            
            // Update UI based on login state
            updateUI();
            
            // Initialize event listeners
            initEventListeners();
            
            // Start live info updates
            setInterval(updateLiveInfo, 3000);
            
            // Refresh winners periodically
            setInterval(renderWinners, 30000);
            
            // Apply default settings
            state.isTurbo = state.settings.turboDefault;
            if (state.isTurbo) {
                document.getElementById('turboBtn').classList.add('active');
            }
            
            // Hide loading screen
            setTimeout(() => {
                document.getElementById('loadingScreen').classList.add('hidden');
                
                // Show bonus popup for new visitors
                if (!state.hasSeenBonus && !state.isLoggedIn) {
                    setTimeout(() => {
                        showModal('bonusPopup');
                    }, 1000);
                }
            }, 1500);
        }

        // Start the app when DOM is ready
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
